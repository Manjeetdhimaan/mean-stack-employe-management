

<div class="container-fluid form">
    <div class="row" *ngIf="CurrentState=='Wait'">
        <div class="col-md-12 close-form">
            <h2> Please Wait...</h2>
        </div>
    </div>
    <div class="row"
        *ngIf="CurrentState=='NotVerified'">
        <div class="col-md-12">
            <h2> Invalid URL.</h2>
        </div>
    </div>
    <main class="login login-page" *ngIf="CurrentState=='Verified'">
        <div class="top-section">
            <div class="center-content">
                <div class="main-box">

                    <h2 class="title">Set New Password</h2>

                    <!-- <ng-container *ngIf="errMsg">
                    <app-auth-error [error]="errMsg" [success]="accountCreationMessage"></app-auth-error>
                </ng-container> -->
                    <form [formGroup]="ResponseResetForm"
                        (ngSubmit)="ResetPassword(ResponseResetForm)"
                        class="input-color">
                            <p class="label">New Password</p>

                        <div class="password-wrapper form-group">
                            <input formControlName="newPassword"
                                [type]="!isShowPassword?'password' : 'text'"
                                name="password" class="input form-control"
                                id="password">
                            <span class="show-hide graymedium"
                                (click)="toggleShowPasswordFeild()">
                                <i class="fa" [ngClass]="{
                                    'fa-eye-slash': !isShowPassword,
                                    'fa-eye': isShowPassword
                                    }"></i>
                            </span>
                            <span class="error error-msg"
                                *ngIf="!ResponseResetForm.controls['newPassword'].valid
                                && !IsResetFormValid">
                                <i class="fa fa-exclamation-triangle"
                                    aria-hidden="true"></i> Password is required
                                with
                                atleast 4 characters.
                        </span>
                        </div>
                            <p class="label" style="margin-top: 32px;">Confirm Password</p>

                        <div class="password-wrapper form-group">
                            <input formControlName="confirmPassword"
                                [type]="!isShowPassword?'password' : 'text'"
                                name="password" class="input form-control"
                                id="password">
                            <span class="show-hide graymedium"
                                (click)="toggleShowPasswordFeild()">
                                <i class="fa" [ngClass]="{
                                    'fa-eye-slash': !isShowPassword,
                                    'fa-eye': isShowPassword
                                    }"></i>

                            </span>
                            <div class="error error-msg"
                                *ngIf="
                                (ResponseResetForm.controls['confirmPassword'].value
                                !=
                                ResponseResetForm.controls['newPassword'].value)
                                && ResponseResetForm.controls['confirmPassword'].touched && ResponseResetForm.controls['newPassword'].touched">
                                <i class="fa fa-exclamation-triangle"
                                    aria-hidden="true"></i> Confirm Password
                                does not
                                match with password.
                            </div>

                        </div>

                        <div class="alert" *ngIf="errorMessage">
                            {{errorMessage}}
                            <i class="pi pi-fw pi-trash"
                                (click)="onClearMsg()"></i>
                        </div>
                        <div class="success" *ngIf="successMessage">
                            {{successMessage}}
                            <a routerLink="/admin/login">Login Now</a>
                        </div>
                        <button class="continue-btn" type="submit" style="margin-top: 32px;">UPDATE
                            PASSWORD</button>
                    </form>

                </div>
            </div>
        </div>

    </main>
    <ng-progress [thick]="true"></ng-progress>