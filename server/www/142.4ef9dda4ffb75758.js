"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[142],{3142:(en,re,d)=>{d.r(re),d.d(re,{EmployeModule:()=>Vi});var _=d(6895),h=d(4006),ke=d(529),M=d(9197),e=d(4650),S=d(8613);let A=(()=>{class o{constructor(t,i){this.userService=t,this.router=i}canActivate(t,i){return!!this.userService.isLoggedIn()||(this.router.navigateByUrl("/employee/login"),this.userService.deleteToken(),!1)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(S.K),e.LFG(M.F0))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var Ee=d(5206),O=d(7740);var Re=d(1653),G=d(9646),Ze=d(9751);const De=o=>{if("string"==typeof o.value)return(0,G.of)(null);const r=o.value,t=new FileReader;return Ze.y.create(n=>{t.addEventListener("loadend",()=>{const a=new Uint8Array(t.result).subarray(0,4);let s="",l=!1;for(let c=0;c<a.length;c++)s+=a[c].toString(16);switch(s){case"89504e47":case"ffd8ffe0":case"ffd8ffe1":case"ffd8ffe2":case"ffd8ffe3":case"ffd8ffe8":l=!0;break;default:l=!1}n.next(l?null:{invalidMimeType:!0}),n.complete()}),t.readAsArrayBuffer(r)})};let ze=(()=>{class o{base64ToFile(t){const i=t.split(","),n=i[0].replace("data:","").replace(";base64",""),a=atob(i[1]),s=new ArrayBuffer(a.length),l=new Uint8Array(s);for(let c=0;c<a.length;c+=1)l[c]=a.charCodeAt(c);return new Blob([s],{type:n})}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var P=d(805),F=d(4859);function le(o,r,t,i,n,a,s){try{var l=o[a](s),c=l.value}catch(p){return void t(p)}l.done?r(c):Promise.resolve(c).then(i,n)}function ce(o){return function(){var r=this,t=arguments;return new Promise(function(i,n){var a=o.apply(r,t);function s(c){le(a,i,n,s,l,"next",c)}function l(c){le(a,i,n,s,l,"throw",c)}s(void 0)})}}var Fe=d(1481);const He=["wrapper"],Ue=["sourceImage"];function Le(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"img",4,5),e.NdJ("load",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.imageLoadedInView())})("mousedown",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.startMove(n,a.moveTypes.Drag))})("touchstart",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.startMove(n,a.moveTypes.Drag))}),e.qZA()}if(2&o){const t=e.oxw();e.Udp("visibility",t.imageVisible?"visible":"hidden")("transform",t.safeTransformStyle),e.ekj("ngx-ic-draggable",!t.disabled&&t.allowMoveImage),e.Q6J("src",t.safeImgDataUrl,e.LSH)}}function Be(o,r){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"span",9),e.NdJ("mousedown",function(n){e.CHM(t);const a=e.oxw(2);return e.KtG(a.startMove(n,a.moveTypes.Resize,"topleft"))})("touchstart",function(n){e.CHM(t);const a=e.oxw(2);return e.KtG(a.startMove(n,a.moveTypes.Resize,"topleft"))}),e._UZ(2,"span",10),e.qZA(),e.TgZ(3,"span",11),e._UZ(4,"span",10),e.qZA(),e.TgZ(5,"span",12),e.NdJ("mousedown",function(n){e.CHM(t);const a=e.oxw(2);return e.KtG(a.startMove(n,a.moveTypes.Resize,"topright"))})("touchstart",function(n){e.CHM(t);const a=e.oxw(2);return e.KtG(a.startMove(n,a.moveTypes.Resize,"topright"))}),e._UZ(6,"span",10),e.qZA(),e.TgZ(7,"span",13),e._UZ(8,"span",10),e.qZA(),e.TgZ(9,"span",14),e.NdJ("mousedown",function(n){e.CHM(t);const a=e.oxw(2);return e.KtG(a.startMove(n,a.moveTypes.Resize,"bottomright"))})("touchstart",function(n){e.CHM(t);const a=e.oxw(2);return e.KtG(a.startMove(n,a.moveTypes.Resize,"bottomright"))}),e._UZ(10,"span",10),e.qZA(),e.TgZ(11,"span",15),e._UZ(12,"span",10),e.qZA(),e.TgZ(13,"span",16),e.NdJ("mousedown",function(n){e.CHM(t);const a=e.oxw(2);return e.KtG(a.startMove(n,a.moveTypes.Resize,"bottomleft"))})("touchstart",function(n){e.CHM(t);const a=e.oxw(2);return e.KtG(a.startMove(n,a.moveTypes.Resize,"bottomleft"))}),e._UZ(14,"span",10),e.qZA(),e.TgZ(15,"span",17),e._UZ(16,"span",10),e.qZA(),e.TgZ(17,"span",18),e.NdJ("mousedown",function(n){e.CHM(t);const a=e.oxw(2);return e.KtG(a.startMove(n,a.moveTypes.Resize,"top"))})("touchstart",function(n){e.CHM(t);const a=e.oxw(2);return e.KtG(a.startMove(n,a.moveTypes.Resize,"top"))}),e.qZA(),e.TgZ(18,"span",19),e.NdJ("mousedown",function(n){e.CHM(t);const a=e.oxw(2);return e.KtG(a.startMove(n,a.moveTypes.Resize,"right"))})("touchstart",function(n){e.CHM(t);const a=e.oxw(2);return e.KtG(a.startMove(n,a.moveTypes.Resize,"right"))}),e.qZA(),e.TgZ(19,"span",20),e.NdJ("mousedown",function(n){e.CHM(t);const a=e.oxw(2);return e.KtG(a.startMove(n,a.moveTypes.Resize,"bottom"))})("touchstart",function(n){e.CHM(t);const a=e.oxw(2);return e.KtG(a.startMove(n,a.moveTypes.Resize,"bottom"))}),e.qZA(),e.TgZ(20,"span",21),e.NdJ("mousedown",function(n){e.CHM(t);const a=e.oxw(2);return e.KtG(a.startMove(n,a.moveTypes.Resize,"left"))})("touchstart",function(n){e.CHM(t);const a=e.oxw(2);return e.KtG(a.startMove(n,a.moveTypes.Resize,"left"))}),e.qZA(),e.BQk()}}function Ne(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",6),e.NdJ("keydown",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.keyboardAccess(n))}),e.TgZ(1,"div",7),e.NdJ("mousedown",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.startMove(n,a.moveTypes.Move))})("touchstart",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.startMove(n,a.moveTypes.Move))}),e.qZA(),e.YNc(2,Be,21,0,"ng-container",8),e.qZA()}if(2&o){const t=e.oxw();e.Udp("top",t.cropper.y1,"px")("left",t.cropper.x1,"px")("width",t.cropper.x2-t.cropper.x1,"px")("height",t.cropper.y2-t.cropper.y1,"px")("margin-left","center"===t.alignImage?t.marginLeft:null)("visibility",t.imageVisible?"visible":"hidden"),e.ekj("ngx-ic-round",t.roundCropper),e.xp6(2),e.Q6J("ngIf",!t.hideResizeSquares)}}class Ye{constructor(){this.format="png",this.maintainAspectRatio=!0,this.transform={},this.aspectRatio=1,this.resetCropOnAspectRatioChange=!0,this.resizeToWidth=0,this.resizeToHeight=0,this.cropperMinWidth=0,this.cropperMinHeight=0,this.cropperMaxHeight=0,this.cropperMaxWidth=0,this.cropperStaticWidth=0,this.cropperStaticHeight=0,this.canvasRotation=0,this.initialStepSize=3,this.roundCropper=!1,this.onlyScaleDown=!1,this.imageQuality=92,this.autoCrop=!0,this.backgroundColor=null,this.containWithinAspectRatio=!1,this.hideResizeSquares=!1,this.alignImage="center",this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20,this.cropperScaledMaxWidth=20,this.cropperScaledMaxHeight=20,this.stepSize=this.initialStepSize}setOptions(r){Object.keys(r).filter(t=>t in this).forEach(t=>this[t]=r[t]),this.validateOptions()}setOptionsFromChanges(r){Object.keys(r).filter(t=>t in this).forEach(t=>this[t]=r[t].currentValue),this.validateOptions()}validateOptions(){if(this.maintainAspectRatio&&!this.aspectRatio)throw new Error("`aspectRatio` should > 0 when `maintainAspectRatio` is enabled")}}var b=(()=>{return(o=b||(b={})).Drag="drag",o.Move="move",o.Resize="resize",o.Pinch="pinch",b;var o})();function de(o,r){return o/100*r}let Ge=(()=>{class o{crop(t,i,n,a){const s=this.getImagePosition(t,i,n,a),l=s.x2-s.x1,c=s.y2-s.y1,p=document.createElement("canvas");p.width=l,p.height=c;const m=p.getContext("2d");if(!m)return null;null!=a.backgroundColor&&(m.fillStyle=a.backgroundColor,m.fillRect(0,0,l,c));const g=(a.transform.scale||1)*(a.transform.flipH?-1:1),v=(a.transform.scale||1)*(a.transform.flipV?-1:1),{translateH:y,translateV:T}=this.getCanvasTranslate(t,i,a),C=i.transformed;m.setTransform(g,0,0,v,C.size.width/2+y,C.size.height/2+T),m.translate(-s.x1/g,-s.y1/v),m.rotate((a.transform.rotate||0)*Math.PI/180),m.drawImage(C.image,-C.size.width/2,-C.size.height/2);const x={width:l,height:c,imagePosition:s,cropperPosition:{...n}};a.containWithinAspectRatio&&(x.offsetImagePosition=this.getOffsetImagePosition(t,i,n,a));const z=this.getResizeRatio(l,c,a);return 1!==z&&(x.width=Math.round(l*z),x.height=a.maintainAspectRatio?Math.round(x.width/a.aspectRatio):Math.round(c*z),function qe(o,r,t){const i=o.width,n=o.height,a=i/(r=Math.round(r)),s=n/(t=Math.round(t)),l=Math.ceil(a/2),c=Math.ceil(s/2),p=o.getContext("2d");if(p){const m=p.getImageData(0,0,i,n),g=p.createImageData(r,t),v=m.data,y=g.data;for(let T=0;T<t;T++)for(let C=0;C<r;C++){const x=4*(C+T*r),z=T*s;let I=0,J=0,we=0,Ae=0,Te=0,Ie=0,Oe=0;const ji=Math.floor(C*a),Xi=Math.floor(T*s);let ae=Math.ceil((C+1)*a),se=Math.ceil((T+1)*s);ae=Math.min(ae,i),se=Math.min(se,n);for(let Q=Xi;Q<se;Q++){const Se=Math.abs(z-Q)/c,Ki=C*a,$i=Se*Se;for(let W=ji;W<ae;W++){const Pe=Math.abs(Ki-W)/l,E=Math.sqrt($i+Pe*Pe);if(E>=1)continue;I=2*E*E*E-3*E*E+1;const R=4*(W+Q*i);Oe+=I*v[R+3],we+=I,v[R+3]<255&&(I=I*v[R+3]/250),Ae+=I*v[R],Te+=I*v[R+1],Ie+=I*v[R+2],J+=I}}y[x]=Ae/J,y[x+1]=Te/J,y[x+2]=Ie/J,y[x+3]=Oe/we}o.width=r,o.height=t,p.putImageData(g,0,0)}}(p,x.width,x.height)),x.base64=p.toDataURL("image/"+a.format,this.getQuality(a)),x}getCanvasTranslate(t,i,n){if("px"===n.transform.translateUnit){const a=this.getRatio(t,i);return{translateH:(n.transform.translateH||0)*a,translateV:(n.transform.translateV||0)*a}}return{translateH:n.transform.translateH?de(n.transform.translateH,i.transformed.size.width):0,translateV:n.transform.translateV?de(n.transform.translateV,i.transformed.size.height):0}}getRatio(t,i){return i.transformed.size.width/t.nativeElement.offsetWidth}getImagePosition(t,i,n,a){const s=this.getRatio(t,i),l={x1:Math.round(n.x1*s),y1:Math.round(n.y1*s),x2:Math.round(n.x2*s),y2:Math.round(n.y2*s)};return a.containWithinAspectRatio||(l.x1=Math.max(l.x1,0),l.y1=Math.max(l.y1,0),l.x2=Math.min(l.x2,i.transformed.size.width),l.y2=Math.min(l.y2,i.transformed.size.height)),l}getOffsetImagePosition(t,i,n,a){const c=i.transformed.size.width/t.nativeElement.offsetWidth;let p,m;(a.canvasRotation+i.exifTransform.rotate)%2?(p=(i.transformed.size.width-i.original.size.height)/2,m=(i.transformed.size.height-i.original.size.width)/2):(p=(i.transformed.size.width-i.original.size.width)/2,m=(i.transformed.size.height-i.original.size.height)/2);const g={x1:Math.round(n.x1*c)-p,y1:Math.round(n.y1*c)-m,x2:Math.round(n.x2*c)-p,y2:Math.round(n.y2*c)-m};return a.containWithinAspectRatio||(g.x1=Math.max(g.x1,0),g.y1=Math.max(g.y1,0),g.x2=Math.min(g.x2,i.transformed.size.width),g.y2=Math.min(g.y2,i.transformed.size.height)),g}getResizeRatio(t,i,n){const a=n.resizeToWidth/t,s=n.resizeToHeight/i,l=new Array;n.resizeToWidth>0&&l.push(a),n.resizeToHeight>0&&l.push(s);const c=0===l.length?1:Math.min(...l);return c>1&&!n.onlyScaleDown?c:Math.min(c,1)}getQuality(t){return Math.min(1,Math.max(0,t.imageQuality/100))}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),Ve=(()=>{class o{resetCropperPosition(t,i,n){if(!t?.nativeElement)return;const a=t.nativeElement;if(n.cropperStaticHeight&&n.cropperStaticWidth)i.x1=0,i.x2=a.offsetWidth>n.cropperStaticWidth?n.cropperStaticWidth:a.offsetWidth,i.y1=0,i.y2=a.offsetHeight>n.cropperStaticHeight?n.cropperStaticHeight:a.offsetHeight;else{const s=Math.min(n.cropperScaledMaxWidth,a.offsetWidth),l=Math.min(n.cropperScaledMaxHeight,a.offsetHeight);if(n.maintainAspectRatio)if(a.offsetWidth/n.aspectRatio<a.offsetHeight){i.x1=0,i.x2=s;const c=s/n.aspectRatio;i.y1=(a.offsetHeight-c)/2,i.y2=i.y1+c}else{i.y1=0,i.y2=l;const c=l*n.aspectRatio;i.x1=(a.offsetWidth-c)/2,i.x2=i.x1+c}else i.x1=0,i.x2=s,i.y1=0,i.y2=l}}move(t,i,n){const a=this.getClientX(t)-i.clientX,s=this.getClientY(t)-i.clientY;n.x1=i.x1+a,n.y1=i.y1+s,n.x2=i.x2+a,n.y2=i.y2+s}resize(t,i,n,a,s){const l=this.getClientX(t)-i.clientX,c=this.getClientY(t)-i.clientY;switch(i.position){case"left":n.x1=Math.min(Math.max(i.x1+l,n.x2-s.cropperScaledMaxWidth),n.x2-s.cropperScaledMinWidth);break;case"topleft":n.x1=Math.min(Math.max(i.x1+l,n.x2-s.cropperScaledMaxWidth),n.x2-s.cropperScaledMinWidth),n.y1=Math.min(Math.max(i.y1+c,n.y2-s.cropperScaledMaxHeight),n.y2-s.cropperScaledMinHeight);break;case"top":n.y1=Math.min(Math.max(i.y1+c,n.y2-s.cropperScaledMaxHeight),n.y2-s.cropperScaledMinHeight);break;case"topright":n.x2=Math.max(Math.min(i.x2+l,n.x1+s.cropperScaledMaxWidth),n.x1+s.cropperScaledMinWidth),n.y1=Math.min(Math.max(i.y1+c,n.y2-s.cropperScaledMaxHeight),n.y2-s.cropperScaledMinHeight);break;case"right":n.x2=Math.max(Math.min(i.x2+l,n.x1+s.cropperScaledMaxWidth),n.x1+s.cropperScaledMinWidth);break;case"bottomright":n.x2=Math.max(Math.min(i.x2+l,n.x1+s.cropperScaledMaxWidth),n.x1+s.cropperScaledMinWidth),n.y2=Math.max(Math.min(i.y2+c,n.y1+s.cropperScaledMaxHeight),n.y1+s.cropperScaledMinHeight);break;case"bottom":n.y2=Math.max(Math.min(i.y2+c,n.y1+s.cropperScaledMaxHeight),n.y1+s.cropperScaledMinHeight);break;case"bottomleft":n.x1=Math.min(Math.max(i.x1+l,n.x2-s.cropperScaledMaxWidth),n.x2-s.cropperScaledMinWidth),n.y2=Math.max(Math.min(i.y2+c,n.y1+s.cropperScaledMaxHeight),n.y1+s.cropperScaledMinHeight);break;case"center":const p=t.scale,m=Math.min(Math.max(s.cropperScaledMinWidth,Math.abs(i.x2-i.x1)*p),s.cropperScaledMaxWidth),g=Math.min(Math.max(s.cropperScaledMinHeight,Math.abs(i.y2-i.y1)*p),s.cropperScaledMaxHeight);n.x1=i.clientX-m/2,n.x2=i.clientX+m/2,n.y1=i.clientY-g/2,n.y2=i.clientY+g/2,n.x1<0?(n.x2-=n.x1,n.x1=0):n.x2>a.width&&(n.x1-=n.x2-a.width,n.x2=a.width),n.y1<0?(n.y2-=n.y1,n.y1=0):n.y2>a.height&&(n.y1-=n.y2-a.height,n.y2=a.height)}s.maintainAspectRatio&&this.checkAspectRatio(i.position,n,a,s)}checkAspectRatio(t,i,n,a){let s=0,l=0;switch(t){case"top":i.x2=i.x1+(i.y2-i.y1)*a.aspectRatio,s=Math.max(i.x2-n.width,0),l=Math.max(0-i.y1,0),(s>0||l>0)&&(i.x2-=l*a.aspectRatio>s?l*a.aspectRatio:s,i.y1+=l*a.aspectRatio>s?l:s/a.aspectRatio);break;case"bottom":i.x2=i.x1+(i.y2-i.y1)*a.aspectRatio,s=Math.max(i.x2-n.width,0),l=Math.max(i.y2-n.height,0),(s>0||l>0)&&(i.x2-=l*a.aspectRatio>s?l*a.aspectRatio:s,i.y2-=l*a.aspectRatio>s?l:s/a.aspectRatio);break;case"topleft":i.y1=i.y2-(i.x2-i.x1)/a.aspectRatio,s=Math.max(0-i.x1,0),l=Math.max(0-i.y1,0),(s>0||l>0)&&(i.x1+=l*a.aspectRatio>s?l*a.aspectRatio:s,i.y1+=l*a.aspectRatio>s?l:s/a.aspectRatio);break;case"topright":i.y1=i.y2-(i.x2-i.x1)/a.aspectRatio,s=Math.max(i.x2-n.width,0),l=Math.max(0-i.y1,0),(s>0||l>0)&&(i.x2-=l*a.aspectRatio>s?l*a.aspectRatio:s,i.y1+=l*a.aspectRatio>s?l:s/a.aspectRatio);break;case"right":case"bottomright":i.y2=i.y1+(i.x2-i.x1)/a.aspectRatio,s=Math.max(i.x2-n.width,0),l=Math.max(i.y2-n.height,0),(s>0||l>0)&&(i.x2-=l*a.aspectRatio>s?l*a.aspectRatio:s,i.y2-=l*a.aspectRatio>s?l:s/a.aspectRatio);break;case"left":case"bottomleft":i.y2=i.y1+(i.x2-i.x1)/a.aspectRatio,s=Math.max(0-i.x1,0),l=Math.max(i.y2-n.height,0),(s>0||l>0)&&(i.x1+=l*a.aspectRatio>s?l*a.aspectRatio:s,i.y2-=l*a.aspectRatio>s?l:s/a.aspectRatio);break;case"center":i.x2=i.x1+(i.y2-i.y1)*a.aspectRatio,i.y2=i.y1+(i.x2-i.x1)/a.aspectRatio;const c=Math.max(0-i.x1,0),p=Math.max(i.x2-n.width,0),m=Math.max(i.y2-n.height,0),g=Math.max(0-i.y1,0);(c>0||p>0||m>0||g>0)&&(i.x1+=m*a.aspectRatio>c?m*a.aspectRatio:c,i.x2-=g*a.aspectRatio>p?g*a.aspectRatio:p,i.y1+=g*a.aspectRatio>p?g:p/a.aspectRatio,i.y2-=m*a.aspectRatio>c?m:c/a.aspectRatio)}}getClientX(t){return t.touches?.[0].clientX||t.clientX||0}getClientY(t){return t.touches?.[0].clientY||t.clientY||0}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();let tt=(()=>{class o{constructor(){this.autoRotateSupported=function Xe(){return new Promise(o=>{const r=new Image;r.onload=()=>{o(1===r.width&&2===r.height)},r.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q=="})}()}loadImageFile(t,i){return new Promise((n,a)=>{const s=new FileReader;s.onload=l=>{this.loadImage(l.target.result,t.type,i).then(n).catch(a)},s.readAsDataURL(t)})}loadImage(t,i,n){return this.isValidImageType(i)?this.loadBase64Image(t,n):Promise.reject(new Error("Invalid image type"))}isValidImageType(t){return/image\/(png|jpg|jpeg|bmp|gif|tiff|webp|x-icon|vnd.microsoft.icon)/.test(t)}loadImageFromURL(t,i){return new Promise((n,a)=>{const s=new Image;s.onerror=()=>a,s.onload=()=>{const l=document.createElement("canvas"),c=l.getContext("2d");l.width=s.width,l.height=s.height,c?.drawImage(s,0,0),this.loadBase64Image(l.toDataURL(),i).then(n)},s.crossOrigin="anonymous",s.src=t})}loadBase64Image(t,i){return new Promise((n,a)=>{const s=new Image;s.onload=()=>n({originalImage:s,originalBase64:t}),s.onerror=a,s.src=t}).then(n=>this.transformImageBase64(n,i))}transformImageBase64(t,i){var n=this;return ce(function*(){const a=yield n.autoRotateSupported,s=yield function Ke(o){switch("string"==typeof o&&(o=function $e(o){const r=new DataView(function et(o){o=o.replace(/^data\:([^\;]+)\;base64,/gim,"");const r=atob(o),t=r.length,i=new Uint8Array(t);for(let n=0;n<t;n++)i[n]=r.charCodeAt(n);return i.buffer}(o));if(65496!==r.getUint16(0,!1))return-2;const t=r.byteLength;let i=2;for(;i<t;){if(r.getUint16(i+2,!1)<=8)return-1;const n=r.getUint16(i,!1);if(i+=2,65505==n){if(1165519206!==r.getUint32(i+=2,!1))return-1;const a=18761==r.getUint16(i+=6,!1);i+=r.getUint32(i+4,a);const s=r.getUint16(i,a);i+=2;for(let l=0;l<s;l++)if(274==r.getUint16(i+12*l,a))return r.getUint16(i+12*l+8,a)}else{if(65280!=(65280&n))break;i+=r.getUint16(i,!1)}}return-1}(o)),o){case 2:return{rotate:0,flip:!0};case 3:return{rotate:2,flip:!1};case 4:return{rotate:2,flip:!0};case 5:return{rotate:1,flip:!0};case 6:return{rotate:1,flip:!1};case 7:return{rotate:3,flip:!0};case 8:return{rotate:3,flip:!1};default:return{rotate:0,flip:!1}}}(a?-1:t.originalBase64);return t.originalImage&&t.originalImage.complete?n.transformLoadedImage({original:{base64:t.originalBase64,image:t.originalImage,size:{width:t.originalImage.naturalWidth,height:t.originalImage.naturalHeight}},exifTransform:s},i):Promise.reject(new Error("No image loaded"))})()}transformLoadedImage(t,i){var n=this;return ce(function*(){const a=i.canvasRotation+t.exifTransform.rotate,s={width:t.original.image.naturalWidth,height:t.original.image.naturalHeight};if(0===a&&!t.exifTransform.flip&&!i.containWithinAspectRatio)return{original:{base64:t.original.base64,image:t.original.image,size:{...s}},transformed:{base64:t.original.base64,image:t.original.image,size:{...s}},exifTransform:t.exifTransform};const l=n.getTransformedSize(s,t.exifTransform,i),c=document.createElement("canvas");c.width=l.width,c.height=l.height;const p=c.getContext("2d");p?.setTransform(t.exifTransform.flip?-1:1,0,0,1,c.width/2,c.height/2),p?.rotate(Math.PI*(a/2)),p?.drawImage(t.original.image,-s.width/2,-s.height/2);const m=c.toDataURL(),g=yield n.loadImageFromBase64(m);return{original:{base64:t.original.base64,image:t.original.image,size:{...s}},transformed:{base64:m,image:g,size:{width:g.width,height:g.height}},exifTransform:t.exifTransform}})()}loadImageFromBase64(t){return new Promise((i,n)=>{const a=new Image;a.onload=()=>i(a),a.onerror=n,a.src=t})}getTransformedSize(t,i,n){const a=n.canvasRotation+i.rotate;if(n.containWithinAspectRatio){if(a%2){const l=t.height/n.aspectRatio;return{width:Math.max(t.height,t.width*n.aspectRatio),height:Math.max(t.width,l)}}{const l=t.width/n.aspectRatio;return{width:Math.max(t.width,t.height*n.aspectRatio),height:Math.max(t.height,l)}}}return a%2?{height:t.width,width:t.height}:{width:t.width,height:t.height}}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),it=(()=>{class o{constructor(t,i,n,a,s){this.cropService=t,this.cropperPositionService=i,this.loadImageService=n,this.sanitizer=a,this.cd=s,this.Hammer=window?.Hammer||null,this.settings=new Ye,this.setImageMaxSizeRetries=0,this.resizedWhileHidden=!1,this.marginLeft="0px",this.maxSize={width:0,height:0},this.moveTypes=b,this.imageVisible=!1,this.format=this.settings.format,this.transform={},this.maintainAspectRatio=this.settings.maintainAspectRatio,this.aspectRatio=this.settings.aspectRatio,this.resetCropOnAspectRatioChange=this.settings.resetCropOnAspectRatioChange,this.resizeToWidth=this.settings.resizeToWidth,this.resizeToHeight=this.settings.resizeToHeight,this.cropperMinWidth=this.settings.cropperMinWidth,this.cropperMinHeight=this.settings.cropperMinHeight,this.cropperMaxHeight=this.settings.cropperMaxHeight,this.cropperMaxWidth=this.settings.cropperMaxWidth,this.cropperStaticWidth=this.settings.cropperStaticWidth,this.cropperStaticHeight=this.settings.cropperStaticHeight,this.canvasRotation=this.settings.canvasRotation,this.initialStepSize=this.settings.initialStepSize,this.roundCropper=this.settings.roundCropper,this.onlyScaleDown=this.settings.onlyScaleDown,this.imageQuality=this.settings.imageQuality,this.autoCrop=this.settings.autoCrop,this.backgroundColor=this.settings.backgroundColor,this.containWithinAspectRatio=this.settings.containWithinAspectRatio,this.hideResizeSquares=this.settings.hideResizeSquares,this.allowMoveImage=!1,this.cropper={x1:-100,y1:-100,x2:1e4,y2:1e4},this.alignImage=this.settings.alignImage,this.disabled=!1,this.hidden=!1,this.imageCropped=new e.vpe,this.startCropImage=new e.vpe,this.imageLoaded=new e.vpe,this.cropperReady=new e.vpe,this.loadImageFailed=new e.vpe,this.transformChange=new e.vpe,this.reset()}ngOnChanges(t){this.onChangesUpdateSettings(t),this.onChangesInputImage(t),this.loadedImage?.original.image.complete&&(t.containWithinAspectRatio||t.canvasRotation)&&this.loadImageService.transformLoadedImage(this.loadedImage,this.settings).then(i=>this.setLoadedImage(i)).catch(i=>this.loadImageError(i)),(t.cropper||t.maintainAspectRatio||t.aspectRatio)&&(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),!this.maintainAspectRatio||!this.resetCropOnAspectRatioChange&&this.aspectRatioIsCorrect()||!t.maintainAspectRatio&&!t.aspectRatio?t.cropper&&(this.checkCropperPosition(!1),this.doAutoCrop()):this.resetCropperPosition(),this.cd.markForCheck()),t.transform&&(this.transform=this.transform||{},this.setCssTransform(),this.doAutoCrop(),this.cd.markForCheck()),t.hidden&&this.resizedWhileHidden&&!this.hidden&&setTimeout(()=>{this.onResize(),this.resizedWhileHidden=!1})}onChangesUpdateSettings(t){this.settings.setOptionsFromChanges(t),this.settings.cropperStaticHeight&&this.settings.cropperStaticWidth&&this.settings.setOptions({hideResizeSquares:!0,cropperMinWidth:this.settings.cropperStaticWidth,cropperMinHeight:this.settings.cropperStaticHeight,cropperMaxHeight:this.settings.cropperStaticHeight,cropperMaxWidth:this.settings.cropperStaticWidth,maintainAspectRatio:!1})}onChangesInputImage(t){(t.imageChangedEvent||t.imageURL||t.imageBase64||t.imageFile)&&this.reset(),t.imageChangedEvent&&this.isValidImageChangedEvent()&&this.loadImageFile(this.imageChangedEvent.target.files[0]),t.imageURL&&this.imageURL&&this.loadImageFromURL(this.imageURL),t.imageBase64&&this.imageBase64&&this.loadBase64Image(this.imageBase64),t.imageFile&&this.imageFile&&this.loadImageFile(this.imageFile)}isValidImageChangedEvent(){return this.imageChangedEvent?.target?.files?.length>0}setCssTransform(){const t=this.transform?.translateUnit||"%";this.safeTransformStyle=this.sanitizer.bypassSecurityTrustStyle(`translate(${this.transform.translateH||0}${t}, ${this.transform.translateV||0}${t}) scaleX(`+(this.transform.scale||1)*(this.transform.flipH?-1:1)+") scaleY("+(this.transform.scale||1)*(this.transform.flipV?-1:1)+") rotate("+(this.transform.rotate||0)+"deg)")}ngOnInit(){this.settings.stepSize=this.initialStepSize,this.activatePinchGesture()}reset(){this.imageVisible=!1,this.loadedImage=void 0,this.safeImgDataUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=",this.moveStart={active:!1,type:null,position:null,x1:0,y1:0,x2:0,y2:0,clientX:0,clientY:0},this.maxSize={width:0,height:0},this.cropper.x1=-100,this.cropper.y1=-100,this.cropper.x2=1e4,this.cropper.y2=1e4}loadImageFile(t){this.loadImageService.loadImageFile(t,this.settings).then(i=>this.setLoadedImage(i)).catch(i=>this.loadImageError(i))}loadBase64Image(t){this.loadImageService.loadBase64Image(t,this.settings).then(i=>this.setLoadedImage(i)).catch(i=>this.loadImageError(i))}loadImageFromURL(t){this.loadImageService.loadImageFromURL(t,this.settings).then(i=>this.setLoadedImage(i)).catch(i=>this.loadImageError(i))}setLoadedImage(t){this.loadedImage=t,this.safeImgDataUrl=this.sanitizer.bypassSecurityTrustResourceUrl(t.transformed.base64),this.cd.markForCheck()}loadImageError(t){console.error(t),this.loadImageFailed.emit()}imageLoadedInView(){null!=this.loadedImage&&(this.imageLoaded.emit(this.loadedImage),this.setImageMaxSizeRetries=0,setTimeout(()=>this.checkImageMaxSizeRecursively()))}checkImageMaxSizeRecursively(){this.setImageMaxSizeRetries>40?this.loadImageFailed.emit():this.sourceImageLoaded()?(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.resetCropperPosition(),this.cropperReady.emit({...this.maxSize}),this.cd.markForCheck()):(this.setImageMaxSizeRetries++,setTimeout(()=>this.checkImageMaxSizeRecursively(),50))}sourceImageLoaded(){return this.sourceImage?.nativeElement?.offsetWidth>0}onResize(){!this.loadedImage||(this.hidden?this.resizedWhileHidden=!0:(this.resizeCropperPosition(),this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize()))}activatePinchGesture(){if(this.Hammer){const t=new this.Hammer(this.wrapper.nativeElement);t.get("pinch").set({enable:!0}),t.on("pinchmove",this.onPinch.bind(this)),t.on("pinchend",this.pinchStop.bind(this)),t.on("pinchstart",this.startPinch.bind(this))}else(0,e.X6Q)()&&console.warn("[NgxImageCropper] Could not find HammerJS - Pinch Gesture won't work")}resizeCropperPosition(){const t=this.sourceImage.nativeElement;(this.maxSize.width!==t.offsetWidth||this.maxSize.height!==t.offsetHeight)&&(this.cropper.x1=this.cropper.x1*t.offsetWidth/this.maxSize.width,this.cropper.x2=this.cropper.x2*t.offsetWidth/this.maxSize.width,this.cropper.y1=this.cropper.y1*t.offsetHeight/this.maxSize.height,this.cropper.y2=this.cropper.y2*t.offsetHeight/this.maxSize.height)}resetCropperPosition(){this.cropperPositionService.resetCropperPosition(this.sourceImage,this.cropper,this.settings),this.doAutoCrop(),this.imageVisible=!0}keyboardAccess(t){this.changeKeyboardStepSize(t),this.keyboardMoveCropper(t)}changeKeyboardStepSize(t){const i=+t.key;i>=1&&i<=9&&(this.settings.stepSize=i)}keyboardMoveCropper(t){if(!["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(t.key))return;const n=t.shiftKey?b.Resize:b.Move,a=t.altKey?function Qe(o){switch(o){case"ArrowUp":return"bottom";case"ArrowRight":return"left";case"ArrowDown":return"top";default:return"right"}}(t.key):function Je(o){switch(o){case"ArrowUp":return"top";case"ArrowRight":return"right";case"ArrowDown":return"bottom";default:return"left"}}(t.key),s=function We(o,r){switch(o){case"ArrowUp":return{clientX:0,clientY:-1*r};case"ArrowRight":return{clientX:r,clientY:0};case"ArrowDown":return{clientX:0,clientY:r};default:return{clientX:-1*r,clientY:0}}}(t.key,this.settings.stepSize);t.preventDefault(),t.stopPropagation(),this.startMove({clientX:0,clientY:0},n,a),this.moveImg(s),this.moveStop()}startMove(t,i,n=null){this.disabled||this.moveStart?.active&&this.moveStart?.type===b.Pinch||i===b.Drag&&!this.allowMoveImage||(t.preventDefault&&t.preventDefault(),this.moveStart={active:!0,type:i,position:n,transform:{...this.transform},clientX:this.cropperPositionService.getClientX(t),clientY:this.cropperPositionService.getClientY(t),...this.cropper})}startPinch(t){!this.safeImgDataUrl||(t.preventDefault&&t.preventDefault(),this.moveStart={active:!0,type:b.Pinch,position:"center",clientX:this.cropper.x1+(this.cropper.x2-this.cropper.x1)/2,clientY:this.cropper.y1+(this.cropper.y2-this.cropper.y1)/2,...this.cropper})}moveImg(t){if(this.moveStart.active){if(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),this.moveStart.type===b.Move)this.cropperPositionService.move(t,this.moveStart,this.cropper),this.checkCropperPosition(!0);else if(this.moveStart.type===b.Resize)!this.cropperStaticWidth&&!this.cropperStaticHeight&&this.cropperPositionService.resize(t,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1);else if(this.moveStart.type===b.Drag){const i=this.cropperPositionService.getClientX(t)-this.moveStart.clientX,n=this.cropperPositionService.getClientY(t)-this.moveStart.clientY;this.transform={...this.transform,translateH:(this.moveStart.transform?.translateH||0)+i,translateV:(this.moveStart.transform?.translateV||0)+n},this.setCssTransform()}this.cd.detectChanges()}}onPinch(t){this.moveStart.active&&(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),this.moveStart.type===b.Pinch&&(this.cropperPositionService.resize(t,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1)),this.cd.detectChanges())}setMaxSize(){if(this.sourceImage){const t=this.sourceImage.nativeElement;this.maxSize.width=t.offsetWidth,this.maxSize.height=t.offsetHeight,this.marginLeft=this.sanitizer.bypassSecurityTrustStyle("calc(50% - "+this.maxSize.width/2+"px)")}}setCropperScaledMinSize(){this.loadedImage?.transformed?.image?(this.setCropperScaledMinWidth(),this.setCropperScaledMinHeight()):(this.settings.cropperScaledMinWidth=20,this.settings.cropperScaledMinHeight=20)}setCropperScaledMinWidth(){this.settings.cropperScaledMinWidth=this.cropperMinWidth>0?Math.max(20,this.cropperMinWidth/this.loadedImage.transformed.image.width*this.maxSize.width):20}setCropperScaledMinHeight(){this.settings.cropperScaledMinHeight=this.maintainAspectRatio?Math.max(20,this.settings.cropperScaledMinWidth/this.aspectRatio):this.cropperMinHeight>0?Math.max(20,this.cropperMinHeight/this.loadedImage.transformed.image.height*this.maxSize.height):20}setCropperScaledMaxSize(){if(this.loadedImage?.transformed?.image){const t=this.loadedImage.transformed.size.width/this.maxSize.width;this.settings.cropperScaledMaxWidth=this.cropperMaxWidth>20?this.cropperMaxWidth/t:this.maxSize.width,this.settings.cropperScaledMaxHeight=this.cropperMaxHeight>20?this.cropperMaxHeight/t:this.maxSize.height,this.maintainAspectRatio&&(this.settings.cropperScaledMaxWidth>this.settings.cropperScaledMaxHeight*this.aspectRatio?this.settings.cropperScaledMaxWidth=this.settings.cropperScaledMaxHeight*this.aspectRatio:this.settings.cropperScaledMaxWidth<this.settings.cropperScaledMaxHeight*this.aspectRatio&&(this.settings.cropperScaledMaxHeight=this.settings.cropperScaledMaxWidth/this.aspectRatio))}else this.settings.cropperScaledMaxWidth=this.maxSize.width,this.settings.cropperScaledMaxHeight=this.maxSize.height}checkCropperPosition(t=!1){this.cropper.x1<0&&(this.cropper.x2-=t?this.cropper.x1:0,this.cropper.x1=0),this.cropper.y1<0&&(this.cropper.y2-=t?this.cropper.y1:0,this.cropper.y1=0),this.cropper.x2>this.maxSize.width&&(this.cropper.x1-=t?this.cropper.x2-this.maxSize.width:0,this.cropper.x2=this.maxSize.width),this.cropper.y2>this.maxSize.height&&(this.cropper.y1-=t?this.cropper.y2-this.maxSize.height:0,this.cropper.y2=this.maxSize.height)}moveStop(){this.moveStart.active&&(this.moveStart.active=!1,this.moveStart?.type===b.Drag?this.transformChange.emit(this.transform):this.doAutoCrop())}pinchStop(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())}doAutoCrop(){this.autoCrop&&this.crop()}crop(){if(null!=this.loadedImage?.transformed?.image){this.startCropImage.emit();const t=this.cropService.crop(this.sourceImage,this.loadedImage,this.cropper,this.settings);return null!=t&&this.imageCropped.emit(t),t}return null}aspectRatioIsCorrect(){return(this.cropper.x2-this.cropper.x1)/(this.cropper.y2-this.cropper.y1)===this.aspectRatio}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Ge),e.Y36(Ve),e.Y36(tt),e.Y36(Fe.H7),e.Y36(e.sBO))},o.\u0275cmp=e.Xpm({type:o,selectors:[["image-cropper"]],viewQuery:function(t,i){if(1&t&&(e.Gf(He,7),e.Gf(Ue,5)),2&t){let n;e.iGM(n=e.CRH())&&(i.wrapper=n.first),e.iGM(n=e.CRH())&&(i.sourceImage=n.first)}},hostVars:6,hostBindings:function(t,i){1&t&&e.NdJ("resize",function(){return i.onResize()},!1,e.Jf7)("mousemove",function(a){return i.moveImg(a)},!1,e.evT)("touchmove",function(a){return i.moveImg(a)},!1,e.evT)("mouseup",function(){return i.moveStop()},!1,e.evT)("touchend",function(){return i.moveStop()},!1,e.evT),2&t&&(e.Udp("text-align",i.alignImage),e.ekj("disabled",i.disabled)("ngx-ix-hidden",i.hidden))},inputs:{imageChangedEvent:"imageChangedEvent",imageURL:"imageURL",imageBase64:"imageBase64",imageFile:"imageFile",format:"format",transform:"transform",maintainAspectRatio:"maintainAspectRatio",aspectRatio:"aspectRatio",resetCropOnAspectRatioChange:"resetCropOnAspectRatioChange",resizeToWidth:"resizeToWidth",resizeToHeight:"resizeToHeight",cropperMinWidth:"cropperMinWidth",cropperMinHeight:"cropperMinHeight",cropperMaxHeight:"cropperMaxHeight",cropperMaxWidth:"cropperMaxWidth",cropperStaticWidth:"cropperStaticWidth",cropperStaticHeight:"cropperStaticHeight",canvasRotation:"canvasRotation",initialStepSize:"initialStepSize",roundCropper:"roundCropper",onlyScaleDown:"onlyScaleDown",imageQuality:"imageQuality",autoCrop:"autoCrop",backgroundColor:"backgroundColor",containWithinAspectRatio:"containWithinAspectRatio",hideResizeSquares:"hideResizeSquares",allowMoveImage:"allowMoveImage",cropper:"cropper",alignImage:"alignImage",disabled:"disabled",hidden:"hidden"},outputs:{imageCropped:"imageCropped",startCropImage:"startCropImage",imageLoaded:"imageLoaded",cropperReady:"cropperReady",loadImageFailed:"loadImageFailed",transformChange:"transformChange"},features:[e.TTD],decls:5,vars:10,consts:[["wrapper",""],["class","ngx-ic-source-image",3,"src","visibility","transform","ngx-ic-draggable","load","mousedown","touchstart",4,"ngIf"],[1,"ngx-ic-overlay"],["class","ngx-ic-cropper","tabindex","0",3,"ngx-ic-round","top","left","width","height","margin-left","visibility","keydown",4,"ngIf"],[1,"ngx-ic-source-image",3,"src","load","mousedown","touchstart"],["sourceImage",""],["tabindex","0",1,"ngx-ic-cropper",3,"keydown"],[1,"ngx-ic-move",3,"mousedown","touchstart"],[4,"ngIf"],[1,"ngx-ic-resize","ngx-ic-topleft",3,"mousedown","touchstart"],[1,"ngx-ic-square"],[1,"ngx-ic-resize","ngx-ic-top"],[1,"ngx-ic-resize","ngx-ic-topright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-right"],[1,"ngx-ic-resize","ngx-ic-bottomright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-bottom"],[1,"ngx-ic-resize","ngx-ic-bottomleft",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-left"],[1,"ngx-ic-resize-bar","ngx-ic-top",3,"mousedown","touchstart"],[1,"ngx-ic-resize-bar","ngx-ic-right",3,"mousedown","touchstart"],[1,"ngx-ic-resize-bar","ngx-ic-bottom",3,"mousedown","touchstart"],[1,"ngx-ic-resize-bar","ngx-ic-left",3,"mousedown","touchstart"]],template:function(t,i){1&t&&(e.TgZ(0,"div",null,0),e.YNc(2,Le,2,7,"img",1),e._UZ(3,"div",2),e.YNc(4,Ne,3,15,"div",3),e.qZA()),2&t&&(e.Udp("background",i.imageVisible&&i.backgroundColor),e.xp6(2),e.Q6J("ngIf",i.safeImgDataUrl),e.xp6(1),e.Udp("width",i.maxSize.width,"px")("height",i.maxSize.height,"px")("margin-left","center"===i.alignImage?i.marginLeft:null),e.xp6(1),e.Q6J("ngIf",i.imageVisible))},dependencies:[_.O5],styles:['[_nghost-%COMP%]{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{width:100%;position:relative}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%;transform-origin:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image.ngx-ic-draggable[_ngcontent-%COMP%]{user-drag:none;-webkit-user-drag:none;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;cursor:grab}[_nghost-%COMP%]   .ngx-ic-overlay[_ngcontent-%COMP%]{position:absolute;pointer-events:none;touch-action:none;outline:var(--cropper-overlay-color, white) solid 100vw;top:0;left:0}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{position:absolute;display:flex;color:#53535c;background:transparent;outline:rgba(255,255,255,.3) solid 100vw;outline:var(--cropper-outline-color, rgba(255, 255, 255, .3)) solid 100vw;touch-action:none}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{outline-width:100vh}}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:after{position:absolute;content:"";inset:0;pointer-events:none;border:dashed 1px;opacity:.75;color:inherit;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{width:100%;cursor:move;border:1px solid rgba(255,255,255,.5)}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:focus   .ngx-ic-move[_ngcontent-%COMP%]{border-color:#1e90ff;border-width:2px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]   .ngx-ic-square[_ngcontent-%COMP%]{display:inline-block;background:#53535C;width:6px;height:6px;border:1px solid rgba(255,255,255,.5);box-sizing:content-box}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topleft[_ngcontent-%COMP%]{top:-12px;left:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-top[_ngcontent-%COMP%]{top:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topright[_ngcontent-%COMP%]{top:-12px;right:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-right[_ngcontent-%COMP%]{top:calc(50% - 12px);right:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomright[_ngcontent-%COMP%]{bottom:-12px;right:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomleft[_ngcontent-%COMP%]{bottom:-12px;left:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-left[_ngcontent-%COMP%]{top:calc(50% - 12px);left:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%]{position:absolute;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-top[_ngcontent-%COMP%]{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-right[_ngcontent-%COMP%]{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-left[_ngcontent-%COMP%]{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]{outline-color:transparent}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{border-radius:100%;box-shadow:0 0 0 100vw #ffffff4d;box-shadow:0 0 0 100vw var(--cropper-outline-color, rgba(255, 255, 255, .3))}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{box-shadow:0 0 0 100vh #ffffff4d;box-shadow:0 0 0 100vh var(--cropper-outline-color, rgba(255, 255, 255, .3))}}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{border-radius:100%}.disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{display:none}.ngx-ix-hidden[_nghost-%COMP%]{display:none}'],changeDetection:0}),o})(),nt=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[_.ez]]}),o})();var u=d(7340),f=d(9592);let ot=(()=>{class o{constructor(t){this.el=t}onkeydown(t){if(!0!==this.pFocusTrapDisabled){t.preventDefault();let i=f.p.getFocusableElements(this.el.nativeElement);if(i&&i.length>0)if(i[0].ownerDocument.activeElement){let n=i.indexOf(i[0].ownerDocument.activeElement);t.shiftKey?-1==n||0===n?i[i.length-1].focus():i[n-1].focus():-1==n||n===i.length-1?i[0].focus():i[n+1].focus()}else i[0].focus()}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(e.SBq))},o.\u0275dir=e.lG2({type:o,selectors:[["","pFocusTrap",""]],hostAttrs:[1,"p-element"],hostBindings:function(t,i){1&t&&e.NdJ("keydown.tab",function(a){return i.onkeydown(a)})("keydown.shift.tab",function(a){return i.onkeydown(a)})},inputs:{pFocusTrapDisabled:"pFocusTrapDisabled"}}),o})(),at=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[_.ez]}),o})();var pe=d(1795),V=d(982);const st=["titlebar"],rt=["content"],lt=["footer"];function ct(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",11),e.NdJ("mousedown",function(n){e.CHM(t);const a=e.oxw(3);return e.KtG(a.initResize(n))}),e.qZA()}}function dt(o,r){if(1&o&&(e.TgZ(0,"span",18),e._uU(1),e.qZA()),2&o){const t=e.oxw(4);e.uIk("id",t.id+"-label"),e.xp6(1),e.Oqu(t.header)}}function pt(o,r){if(1&o&&(e.TgZ(0,"span",18),e.Hsn(1,1),e.qZA()),2&o){const t=e.oxw(4);e.uIk("id",t.id+"-label")}}function ht(o,r){1&o&&e.GkF(0)}const mt=function(){return{"p-dialog-header-icon p-dialog-header-maximize p-link":!0}};function gt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(4);return e.KtG(n.maximize())})("keydown.enter",function(){e.CHM(t);const n=e.oxw(4);return e.KtG(n.maximize())}),e._UZ(1,"span",20),e.qZA()}if(2&o){const t=e.oxw(4);e.Q6J("ngClass",e.DdM(2,mt)),e.xp6(1),e.Q6J("ngClass",t.maximized?t.minimizeIcon:t.maximizeIcon)}}const ut=function(){return{"p-dialog-header-icon p-dialog-header-close p-link":!0}};function ft(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",21),e.NdJ("click",function(n){e.CHM(t);const a=e.oxw(4);return e.KtG(a.close(n))})("keydown.enter",function(n){e.CHM(t);const a=e.oxw(4);return e.KtG(a.close(n))}),e._UZ(1,"span",22),e.qZA()}if(2&o){const t=e.oxw(4);e.Q6J("ngClass",e.DdM(4,ut)),e.uIk("aria-label",t.closeAriaLabel)("tabindex",t.closeTabindex),e.xp6(1),e.Q6J("ngClass",t.closeIcon)}}function _t(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",12,13),e.NdJ("mousedown",function(n){e.CHM(t);const a=e.oxw(3);return e.KtG(a.initDrag(n))}),e.YNc(2,dt,2,2,"span",14),e.YNc(3,pt,2,1,"span",14),e.YNc(4,ht,1,0,"ng-container",9),e.TgZ(5,"div",15),e.YNc(6,gt,2,3,"button",16),e.YNc(7,ft,2,5,"button",17),e.qZA()()}if(2&o){const t=e.oxw(3);e.xp6(2),e.Q6J("ngIf",!t.headerFacet&&!t.headerTemplate),e.xp6(1),e.Q6J("ngIf",t.headerFacet),e.xp6(1),e.Q6J("ngTemplateOutlet",t.headerTemplate),e.xp6(2),e.Q6J("ngIf",t.maximizable),e.xp6(1),e.Q6J("ngIf",t.closable)}}function vt(o,r){1&o&&e.GkF(0)}function bt(o,r){1&o&&e.GkF(0)}function xt(o,r){if(1&o&&(e.TgZ(0,"div",23,24),e.Hsn(2,2),e.YNc(3,bt,1,0,"ng-container",9),e.qZA()),2&o){const t=e.oxw(3);e.xp6(3),e.Q6J("ngTemplateOutlet",t.footerTemplate)}}const Mt=function(o,r,t,i){return{"p-dialog p-component":!0,"p-dialog-rtl":o,"p-dialog-draggable":r,"p-dialog-resizable":t,"p-dialog-maximized":i}},yt=function(o,r){return{transform:o,transition:r}},Ct=function(o){return{value:"visible",params:o}};function wt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",3,4),e.NdJ("@animation.start",function(n){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onAnimationStart(n))})("@animation.done",function(n){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onAnimationEnd(n))}),e.YNc(2,ct,1,0,"div",5),e.YNc(3,_t,8,5,"div",6),e.TgZ(4,"div",7,8),e.Hsn(6),e.YNc(7,vt,1,0,"ng-container",9),e.qZA(),e.YNc(8,xt,4,1,"div",10),e.qZA()}if(2&o){const t=e.oxw(2);e.Tol(t.styleClass),e.Q6J("ngClass",e.l5B(15,Mt,t.rtl,t.draggable,t.resizable,t.maximized))("ngStyle",t.style)("pFocusTrapDisabled",!1===t.focusTrap)("@animation",e.VKq(23,Ct,e.WLB(20,yt,t.transformOptions,t.transitionOptions))),e.uIk("aria-labelledby",t.id+"-label"),e.xp6(2),e.Q6J("ngIf",t.resizable),e.xp6(1),e.Q6J("ngIf",t.showHeader),e.xp6(1),e.Tol(t.contentStyleClass),e.Q6J("ngClass","p-dialog-content")("ngStyle",t.contentStyle),e.xp6(3),e.Q6J("ngTemplateOutlet",t.contentTemplate),e.xp6(1),e.Q6J("ngIf",t.footerFacet||t.footerTemplate)}}const At=function(o,r,t,i,n,a,s,l,c,p){return{"p-dialog-mask":!0,"p-component-overlay p-component-overlay-enter":o,"p-dialog-mask-scrollblocker":r,"p-dialog-left":t,"p-dialog-right":i,"p-dialog-top":n,"p-dialog-top-left":a,"p-dialog-top-right":s,"p-dialog-bottom":l,"p-dialog-bottom-left":c,"p-dialog-bottom-right":p}};function Tt(o,r){if(1&o&&(e.TgZ(0,"div",1),e.YNc(1,wt,9,25,"div",2),e.qZA()),2&o){const t=e.oxw();e.Tol(t.maskStyleClass),e.Q6J("ngClass",e.rFY(4,At,[t.modal,t.modal||t.blockScroll,"left"===t.position,"right"===t.position,"top"===t.position,"topleft"===t.position||"top-left"===t.position,"topright"===t.position||"top-right"===t.position,"bottom"===t.position,"bottomleft"===t.position||"bottom-left"===t.position,"bottomright"===t.position||"bottom-right"===t.position])),e.xp6(1),e.Q6J("ngIf",t.visible)}}const It=["*",[["p-header"]],[["p-footer"]]],Ot=["*","p-header","p-footer"],St=(0,u.oQ)([(0,u.oB)({transform:"{{transform}}",opacity:0}),(0,u.jt)("{{transition}}")]),Pt=(0,u.oQ)([(0,u.jt)("{{transition}}",(0,u.oB)({transform:"{{transform}}",opacity:0}))]);let kt=(()=>{class o{constructor(t,i,n,a,s){this.el=t,this.renderer=i,this.zone=n,this.cd=a,this.config=s,this.draggable=!0,this.resizable=!0,this.closeOnEscape=!0,this.closable=!0,this.showHeader=!0,this.blockScroll=!1,this.autoZIndex=!0,this.baseZIndex=0,this.minX=0,this.minY=0,this.focusOnShow=!0,this.keepInViewport=!0,this.focusTrap=!0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.closeIcon="pi pi-times",this.closeTabindex="-1",this.minimizeIcon="pi pi-window-minimize",this.maximizeIcon="pi pi-window-maximize",this.onShow=new e.vpe,this.onHide=new e.vpe,this.visibleChange=new e.vpe,this.onResizeInit=new e.vpe,this.onResizeEnd=new e.vpe,this.onDragEnd=new e.vpe,this.onMaximize=new e.vpe,this.id=(0,V.Th)(),this._style={},this._position="center",this.transformOptions="scale(0.7)"}get positionLeft(){return 0}set positionLeft(t){console.log("positionLeft property is deprecated.")}get positionTop(){return 0}set positionTop(t){console.log("positionTop property is deprecated.")}get responsive(){return!1}set responsive(t){console.log("Responsive property is deprecated.")}get breakpoint(){return 649}set breakpoint(t){console.log("Breakpoint property is not utilized and deprecated, use breakpoints or CSS media queries instead.")}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"header":this.headerTemplate=t.template;break;case"content":default:this.contentTemplate=t.template;break;case"footer":this.footerTemplate=t.template}})}ngOnInit(){this.breakpoints&&this.createStyle()}get visible(){return this._visible}set visible(t){this._visible=t,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}get style(){return this._style}set style(t){t&&(this._style={...t},this.originalStyle=t)}get position(){return this._position}set position(t){switch(this._position=t,t){case"topleft":case"bottomleft":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"topright":case"bottomright":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}focus(){let t=f.p.findSingle(this.container,"[autofocus]");t&&this.zone.runOutsideAngular(()=>{setTimeout(()=>t.focus(),5)})}close(t){this.visibleChange.emit(!1),t.preventDefault()}enableModality(){this.closable&&this.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",t=>{this.wrapper&&this.wrapper.isSameNode(t.target)&&this.close(t)})),this.modal&&f.p.addClass(document.body,"p-overflow-hidden")}disableModality(){this.wrapper&&(this.dismissableMask&&this.unbindMaskClickListener(),this.modal&&f.p.removeClass(document.body,"p-overflow-hidden"),this.cd.destroyed||this.cd.detectChanges())}maximize(){this.maximized=!this.maximized,!this.modal&&!this.blockScroll&&(this.maximized?f.p.addClass(document.body,"p-overflow-hidden"):f.p.removeClass(document.body,"p-overflow-hidden")),this.onMaximize.emit({maximized:this.maximized})}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}moveOnTop(){this.autoZIndex&&(V.P9.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let t="";for(let i in this.breakpoints)t+=`\n                    @media screen and (max-width: ${i}) {\n                        .p-dialog[${this.id}] {\n                            width: ${this.breakpoints[i]} !important;\n                        }\n                    }\n                `;this.styleElement.innerHTML=t}}initDrag(t){f.p.hasClass(t.target,"p-dialog-header-icon")||f.p.hasClass(t.target.parentElement,"p-dialog-header-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=t.pageX,this.lastPageY=t.pageY,this.container.style.margin="0",f.p.addClass(document.body,"p-unselectable-text"))}onKeydown(t){if(this.focusTrap&&9===t.which){t.preventDefault();let i=f.p.getFocusableElements(this.container);if(i&&i.length>0)if(i[0].ownerDocument.activeElement){let n=i.indexOf(i[0].ownerDocument.activeElement);t.shiftKey?-1==n||0===n?i[i.length-1].focus():i[n-1].focus():-1==n||n===i.length-1?i[0].focus():i[n+1].focus()}else i[0].focus()}}onDrag(t){if(this.dragging){let i=f.p.getOuterWidth(this.container),n=f.p.getOuterHeight(this.container),a=t.pageX-this.lastPageX,s=t.pageY-this.lastPageY,l=this.container.getBoundingClientRect(),c=l.left+a,p=l.top+s,m=f.p.getViewport();this.container.style.position="fixed",this.keepInViewport?(c>=this.minX&&c+i<m.width&&(this._style.left=c+"px",this.lastPageX=t.pageX,this.container.style.left=c+"px"),p>=this.minY&&p+n<m.height&&(this._style.top=p+"px",this.lastPageY=t.pageY,this.container.style.top=p+"px")):(this.lastPageX=t.pageX,this.container.style.left=c+"px",this.lastPageY=t.pageY,this.container.style.top=p+"px")}}endDrag(t){this.dragging&&(this.dragging=!1,f.p.removeClass(document.body,"p-unselectable-text"),this.cd.detectChanges(),this.onDragEnd.emit(t))}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}center(){this.resetPosition()}initResize(t){this.resizable&&(this.resizing=!0,this.lastPageX=t.pageX,this.lastPageY=t.pageY,f.p.addClass(document.body,"p-unselectable-text"),this.onResizeInit.emit(t))}onResize(t){if(this.resizing){let i=t.pageX-this.lastPageX,n=t.pageY-this.lastPageY,a=f.p.getOuterWidth(this.container),s=f.p.getOuterHeight(this.container),l=f.p.getOuterHeight(this.contentViewChild.nativeElement),c=a+i,p=s+n,m=this.container.style.minWidth,g=this.container.style.minHeight,v=this.container.getBoundingClientRect(),y=f.p.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(c+=i,p+=n),(!m||c>parseInt(m))&&v.left+c<y.width&&(this._style.width=c+"px",this.container.style.width=this._style.width),(!g||p>parseInt(g))&&v.top+p<y.height&&(this.contentViewChild.nativeElement.style.height=l+p-s+"px",this._style.height&&(this._style.height=p+"px",this.container.style.height=this._style.height)),this.lastPageX=t.pageX,this.lastPageY=t.pageY}}resizeEnd(t){this.resizing&&(this.resizing=!1,f.p.removeClass(document.body,"p-unselectable-text"),this.onResizeEnd.emit(t))}bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.resizable&&this.bindDocumentResizeListeners(),this.closeOnEscape&&this.closable&&this.bindDocumentEscapeListener()}unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentEscapeListener()}bindDocumentDragListener(){this.zone.runOutsideAngular(()=>{this.documentDragListener=this.onDrag.bind(this),window.document.addEventListener("mousemove",this.documentDragListener)})}unbindDocumentDragListener(){this.documentDragListener&&(window.document.removeEventListener("mousemove",this.documentDragListener),this.documentDragListener=null)}bindDocumentDragEndListener(){this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.endDrag.bind(this),window.document.addEventListener("mouseup",this.documentDragEndListener)})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(window.document.removeEventListener("mouseup",this.documentDragEndListener),this.documentDragEndListener=null)}bindDocumentResizeListeners(){this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.onResize.bind(this),this.documentResizeEndListener=this.resizeEnd.bind(this),window.document.addEventListener("mousemove",this.documentResizeListener),window.document.addEventListener("mouseup",this.documentResizeEndListener)})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(window.document.removeEventListener("mousemove",this.documentResizeListener),window.document.removeEventListener("mouseup",this.documentResizeEndListener),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",i=>{27==i.which&&this.close(i)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.wrapper):f.p.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}onAnimationStart(t){switch(t.toState){case"visible":this.container=t.element,this.wrapper=this.container.parentElement,this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.container.setAttribute(this.id,""),this.modal&&this.enableModality(),!this.modal&&this.blockScroll&&f.p.addClass(document.body,"p-overflow-hidden"),this.focusOnShow&&this.focus();break;case"void":this.wrapper&&this.modal&&f.p.addClass(this.wrapper,"p-component-overlay-leave")}}onAnimationEnd(t){switch(t.toState){case"void":this.onContainerDestroy(),this.onHide.emit({});break;case"visible":this.onShow.emit({})}}onContainerDestroy(){this.unbindGlobalListeners(),this.dragging=!1,this.maskVisible=!1,this.maximized&&(f.p.removeClass(document.body,"p-overflow-hidden"),this.maximized=!1),this.modal&&this.disableModality(),this.blockScroll&&f.p.removeClass(document.body,"p-overflow-hidden"),this.container&&this.autoZIndex&&V.P9.clear(this.container),this.container=null,this.wrapper=null,this._style=this.originalStyle?{...this.originalStyle}:{}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.destroyStyle()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(P.b4))},o.\u0275cmp=e.Xpm({type:o,selectors:[["p-dialog"]],contentQueries:function(t,i,n){if(1&t&&(e.Suo(n,P.h4,5),e.Suo(n,P.$_,5),e.Suo(n,P.jx,4)),2&t){let a;e.iGM(a=e.CRH())&&(i.headerFacet=a.first),e.iGM(a=e.CRH())&&(i.footerFacet=a.first),e.iGM(a=e.CRH())&&(i.templates=a)}},viewQuery:function(t,i){if(1&t&&(e.Gf(st,5),e.Gf(rt,5),e.Gf(lt,5)),2&t){let n;e.iGM(n=e.CRH())&&(i.headerViewChild=n.first),e.iGM(n=e.CRH())&&(i.contentViewChild=n.first),e.iGM(n=e.CRH())&&(i.footerViewChild=n.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",draggable:"draggable",resizable:"resizable",positionLeft:"positionLeft",positionTop:"positionTop",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",modal:"modal",closeOnEscape:"closeOnEscape",dismissableMask:"dismissableMask",rtl:"rtl",closable:"closable",responsive:"responsive",appendTo:"appendTo",breakpoints:"breakpoints",styleClass:"styleClass",maskStyleClass:"maskStyleClass",showHeader:"showHeader",breakpoint:"breakpoint",blockScroll:"blockScroll",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",minX:"minX",minY:"minY",focusOnShow:"focusOnShow",maximizable:"maximizable",keepInViewport:"keepInViewport",focusTrap:"focusTrap",transitionOptions:"transitionOptions",closeIcon:"closeIcon",closeAriaLabel:"closeAriaLabel",closeTabindex:"closeTabindex",minimizeIcon:"minimizeIcon",maximizeIcon:"maximizeIcon",visible:"visible",style:"style",position:"position"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange",onResizeInit:"onResizeInit",onResizeEnd:"onResizeEnd",onDragEnd:"onDragEnd",onMaximize:"onMaximize"},ngContentSelectors:Ot,decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","class","pFocusTrapDisabled",4,"ngIf"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","pFocusTrapDisabled"],["container",""],["class","p-resizable-handle","style","z-index: 90;",3,"mousedown",4,"ngIf"],["class","p-dialog-header",3,"mousedown",4,"ngIf"],[3,"ngClass","ngStyle"],["content",""],[4,"ngTemplateOutlet"],["class","p-dialog-footer",4,"ngIf"],[1,"p-resizable-handle",2,"z-index","90",3,"mousedown"],[1,"p-dialog-header",3,"mousedown"],["titlebar",""],["class","p-dialog-title",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-maximize-icon",3,"ngClass"],["type","button","pRipple","",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-close-icon",3,"ngClass"],[1,"p-dialog-footer"],["footer",""]],template:function(t,i){1&t&&(e.F$t(It),e.YNc(0,Tt,2,15,"div",0)),2&t&&e.Q6J("ngIf",i.maskVisible)},dependencies:[_.mk,_.O5,_.tP,_.PC,ot,pe.H],styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translate(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0px!important;left:0px!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}\n"],encapsulation:2,data:{animation:[(0,u.X$)("animation",[(0,u.eR)("void => visible",[(0,u._7)(St)]),(0,u.eR)("visible => void",[(0,u._7)(Pt)])])]},changeDetection:0}),o})(),Et=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[_.ez,at,pe.T,P.m8]}),o})();var j=d(7669);const Rt=["myFileInput"];function Zt(o,r){1&o&&(e.TgZ(0,"div",45)(1,"h3"),e._uU(2,"Edit Profile"),e.qZA()())}function Dt(o,r){1&o&&(e.TgZ(0,"div"),e._UZ(1,"i",46),e._uU(2," First Name is required. "),e.qZA())}function zt(o,r){1&o&&(e.TgZ(0,"div"),e._UZ(1,"i",46),e._uU(2," First Name is invalid. "),e.qZA())}function Ft(o,r){1&o&&(e.TgZ(0,"div"),e._UZ(1,"i",46),e._uU(2," Last Name is required. "),e.qZA())}function Ht(o,r){1&o&&(e.TgZ(0,"div"),e._UZ(1,"i",46),e._uU(2," Last Name is invalid. "),e.qZA())}function Ut(o,r){1&o&&(e.TgZ(0,"div"),e._UZ(1,"i",46),e._uU(2," Email is required. "),e.qZA())}function Lt(o,r){1&o&&(e.TgZ(0,"div"),e._UZ(1,"i",46),e._uU(2," Email is invalid. "),e.qZA())}function Bt(o,r){1&o&&(e.TgZ(0,"div"),e._UZ(1,"i",46),e._uU(2," Phone Number is required. "),e.qZA())}function Nt(o,r){1&o&&(e.TgZ(0,"div"),e._UZ(1,"i",46),e._uU(2," Phone Number is invalid. "),e.qZA())}function Yt(o,r){1&o&&(e.TgZ(0,"div"),e._UZ(1,"i",46),e._uU(2," Description should not exceed 200 characters "),e.qZA())}function Jt(o,r){if(1&o&&(e.TgZ(0,"div",47)(1,"div",8)(2,"label"),e._uU(3,"Description"),e.qZA(),e._UZ(4,"textarea",48),e.TgZ(5,"div",11),e.YNc(6,Yt,3,0,"div",12),e.qZA()()()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngClass",t.f.bio.invalid&&(t.f.bio.dirty||t.f.bio.touched)?"has-error":""),e.xp6(5),e.Q6J("ngIf",null==t.f.bio.errors?null:t.f.bio.errors.maxlength)}}function Qt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",49)(1,"div",50)(2,"button",51)(3,"span",52),e._uU(4,"Save"),e.qZA()(),e.TgZ(5,"button",53),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onCancelSubmit())}),e.TgZ(6,"span",52),e._uU(7,"Cancel"),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(2),e.Q6J("disabled",!t.userForm.valid||!t.userForm.dirty&&!t.f.image.dirty)}}function Wt(o,r){1&o&&(e.TgZ(0,"div",45)(1,"h3"),e._uU(2,"Users Profile"),e.qZA()())}function qt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",54),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.removeImagePath())}),e._uU(1,"Remove Image"),e.qZA()}}function Gt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",55)(1,"button",56),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveImage())}),e._UZ(2,"i",57),e._uU(3," Save"),e.qZA(),e.TgZ(4,"button",58),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.cancelImageUpload())}),e._UZ(5,"i",59),e._uU(6," Cancel"),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(2),e.Q6J("ngClass",t.isImageUploading?"pi-spin pi-spinner":"pi-check")}}const Vt=function(){return{width:"50vw"}},jt=function(){return{"1024px":"75vw","960px":"75vw","640px":"90vw"}};let Xt=(()=>{class o{constructor(t,i,n,a,s){this.activatedRoute=t,this.userService=i,this.convertImageService=n,this.router=a,this.injector=s,this.activatedRouteUserId=null,this.isImageUploading=!1,this.imageChangedEvent="",this.croppedImage="",this.isProvider=!1,this.profileImageUrl="assets/img/profileDefault.png",this.showModalForImage=!1,this.isMobileDevice=!1,this.canvasRotation=0,this.rotation=0,this.scale=1,this.showCropper=!1,this.containWithinAspectRatio=!1,this.transform={}}get toastMessageService(){return this.injector.get(Re.E)}ngOnInit(){this.userForm=new h.cw({fullName:new h.NI("",[h.kI.required,h.kI.pattern("^[a-z A-Z]*$")]),service:new h.NI("",[h.kI.required]),email:new h.NI("",[h.kI.required,h.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]),phone:new h.NI("",[h.kI.required,h.kI.pattern("^[1-9][0-9]{9}$")]),bio:new h.NI(""),image:new h.NI("",{asyncValidators:De})}),this.onResize(),this.userService.getUserProfile().subscribe(t=>{this.userDetails=t.user,this.userService.currentUserImgUrl.next({name:this.userDetails.fullName,imagePath:this.userDetails.imagePath}),this.userForm.patchValue({fullName:this.userDetails.fullName,service:this.userDetails.service,email:this.userDetails.email,phone:this.userDetails.phone,bio:this.userDetails.bio,image:this.userDetails.imagePath}),this.imagePreview=this.userDetails.imagePath},t=>{console.log(t)})}submitForm(){if(!this.userForm.valid)return;const t=this.userForm.value;try{this.userService.updateUserProfile(t).subscribe(i=>{this.toastMessageService.success(i.msg),this.router.navigate(["/employee/profile"])},i=>{console.log(i)})}catch{console.log("An error occured")}}removeImagePath(){if(!this.userForm.valid)return;let t=this.userForm.value;t.imagePath="";try{this.userService.updateUserProfile(t).subscribe(i=>{this.toastMessageService.success(i.msg),this.router.navigate(["/employee/profile"])},i=>{console.log(i)})}catch{console.log("An error occured")}}saveImage(){const t=this.convertImageService.base64ToFile(this.croppedImage);console.log(t),this.userForm.patchValue({image:t}),this.userForm.get("image")?.updateValueAndValidity();const i=new FileReader;i.onload=()=>{this.imagePreview=i.result,this.userForm.controls.image.markAsDirty()},i.readAsDataURL(t),this.showModalForImage=!1}onImagePicked(t){const i=t.target.files?.[0];this.userForm.patchValue({image:i}),this.userForm.get("image")?.updateValueAndValidity();const n=new FileReader;n.onload=()=>{this.imagePreview=n.result,this.userForm.controls.image.markAsDirty()},n.readAsDataURL(i)}onResize(){this.isMobileDevice=window.innerWidth<=768}get f(){return this.userForm.controls}onCancelSubmit(){this.router.navigate(["/employee/profile"])}fileChangeEvent(t){this.showModalForImage=!0,this.imageChangedEvent=t}cancelImageUpload(){this.showModalForImage=!1,this.myFileInput.nativeElement.value=""}imageCropped(t){this.croppedImage=t.base64}imageLoaded(){}cropperReady(){}loadImageFailed(){}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(M.gz),e.Y36(S.K),e.Y36(ze),e.Y36(M.F0),e.Y36(e.zs3))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-edit-profile"]],viewQuery:function(t,i){if(1&t&&e.Gf(Rt,5),2&t){let n;e.iGM(n=e.CRH())&&(i.myFileInput=n.first)}},hostBindings:function(t,i){1&t&&e.NdJ("resize",function(a){return i.onResize(a)},!1,e.Jf7)},decls:82,vars:34,consts:[[1,"blue-card"],[3,"formGroup","ngSubmit"],[1,"row","mx-0"],[1,"col-lg-8","col-md-12","col-sm-12","px-0","left-card","order-1","order-lg-0"],[1,"add-edit-form"],["class","title",4,"ngIf"],[1,"form","form-type2"],[1,"col-lg-6","col-md-12","col-sm-12"],[1,"form-group",3,"ngClass"],[1,"error-red"],["type","text","formControlName","fullName","appErrorStylingDirective","",1,"form-control","input-type2"],[1,"error","error-msg"],[4,"ngIf"],["type","text","formControlName","service","appErrorStylingDirective","",1,"form-control","input-type2"],["type","text","formControlName","email","appErrorStylingDirective","",1,"form-control","input-type2"],["type","text","formControlName","phone","appErrorStylingDirective","",1,"form-control","input-type2"],["class","col-lg-12 col-md-12 col-sm-12",4,"ngIf"],[1,"col-lg-6"],["class","form-group",4,"ngIf"],[3,"ngClass"],[1,"col-lg-4","col-md-12","col-sm-12","px-0","right-card","order-0","order-lg-1"],[1,"right-card-wrapper"],[1,"profile-img-section"],[1,"edit-icon"],["type","file","id","file-input","accept","image/*",1,"form-control","d-none",3,"change"],["myFileInput",""],["for","file-input"],[1,"icon-round"],[1,"fa","fa-pencil"],[3,"src"],[1,"about-section"],[1,"title","text-white"],[1,"text-white","badge",2,"margin","0"],["mat-button","","type","button",3,"click",4,"ngIf"],[1,"description-field","row","mx-0"],[1,"quick-links"],[1,"editTitleModal"],["header","Edit Title",3,"modal","breakpoints","visible","visibleChange","onHide"],[1,"modal-body"],[1,"image-cropper-wrapper","row","mx-0"],[1,"col-lg-6","col-md-6"],[3,"imageChangedEvent","aspectRatio","imageCropped","imageLoaded","cropperReady","loadImageFailed"],[1,"img-responsive",3,"src"],["pTemplate","footer"],[3,"thick"],[1,"title"],["aria-hidden","true",1,"fa","fa-exclamation-triangle"],[1,"col-lg-12","col-md-12","col-sm-12"],["rows","5","cols","80","appErrorStylingDirective","","formControlName","bio",1,"form-control","textarea"],[1,"form-group"],[1,"button-conditional"],["type","submit",1,"btn","btn-save","btn-regular",3,"disabled"],[1,"btn-text"],["type","button",1,"btn","btn-cancel","btn-regular",3,"click"],["mat-button","","type","button",3,"click"],[1,"modal-footer-section"],["type","button","data-dismiss","modal",1,"btn","btn-primary",3,"click"],[1,"pi",3,"ngClass"],["type","button","data-dismiss","modal",1,"btn","btn-danger",3,"click"],[1,"pi","pi-times-circle"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"form",1),e.NdJ("ngSubmit",function(){return i.submitForm()}),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4),e.YNc(5,Zt,3,0,"div",5),e.TgZ(6,"div",6)(7,"div",2)(8,"div",7)(9,"div",8)(10,"label"),e._uU(11,"First Name"),e.TgZ(12,"span",9),e._uU(13,"*"),e.qZA()(),e._UZ(14,"input",10),e.TgZ(15,"div",11),e.YNc(16,Dt,3,0,"div",12),e.YNc(17,zt,3,0,"div",12),e.qZA()()(),e.TgZ(18,"div",7)(19,"div",8)(20,"label"),e._uU(21,"Service"),e.TgZ(22,"span",9),e._uU(23,"*"),e.qZA()(),e._UZ(24,"input",13),e.TgZ(25,"div",11),e.YNc(26,Ft,3,0,"div",12),e.YNc(27,Ht,3,0,"div",12),e.qZA()()(),e.TgZ(28,"div",7)(29,"div",8)(30,"label"),e._uU(31,"Email"),e.TgZ(32,"span",9),e._uU(33,"*"),e.qZA()(),e._UZ(34,"input",14),e.TgZ(35,"div",11),e.YNc(36,Ut,3,0,"div",12),e.YNc(37,Lt,3,0,"div",12),e.qZA()()(),e.TgZ(38,"div",7)(39,"div",8)(40,"label"),e._uU(41,"Phone Number"),e.TgZ(42,"span",9),e._uU(43,"*"),e.qZA()(),e._UZ(44,"input",15),e.TgZ(45,"div",11),e.YNc(46,Bt,3,0,"div",12),e.YNc(47,Nt,3,0,"div",12),e.qZA()()(),e.YNc(48,Jt,7,2,"div",16),e.TgZ(49,"div",17),e.YNc(50,Qt,8,1,"div",18),e.qZA(),e._UZ(51,"div",19),e.qZA()()()(),e.TgZ(52,"div",20)(53,"div",21),e.YNc(54,Wt,3,0,"div",5),e.TgZ(55,"div",22)(56,"div",23)(57,"input",24,25),e.NdJ("change",function(a){return i.fileChangeEvent(a)}),e.qZA(),e.TgZ(59,"label",26)(60,"div",27)(61,"span"),e._UZ(62,"i",28),e.qZA()()()(),e._UZ(63,"img",29),e.TgZ(64,"div",30)(65,"h4",31),e._uU(66),e.qZA(),e.TgZ(67,"p",32),e._uU(68),e.qZA()()(),e.YNc(69,qt,2,0,"button",33),e._UZ(70,"div",34)(71,"div",35),e.qZA()()()()(),e.TgZ(72,"div",36)(73,"p-dialog",37),e.NdJ("visibleChange",function(a){return i.showModalForImage=a})("onHide",function(){return i.cancelImageUpload()}),e.TgZ(74,"div",38)(75,"div",39)(76,"div",40)(77,"image-cropper",41),e.NdJ("imageCropped",function(a){return i.imageCropped(a)})("imageLoaded",function(){return i.imageLoaded()})("cropperReady",function(){return i.cropperReady()})("loadImageFailed",function(){return i.loadImageFailed()}),e.qZA()(),e.TgZ(78,"div",40),e._UZ(79,"img",42),e.qZA()()(),e.YNc(80,Gt,7,1,"ng-template",43),e.qZA()(),e._UZ(81,"ng-progress",44)),2&t&&(e.Q6J("@fade",void 0),e.xp6(1),e.Q6J("formGroup",i.userForm),e.xp6(4),e.Q6J("ngIf",!i.isMobileDevice),e.xp6(4),e.Q6J("ngClass",i.f.fullName.invalid&&(i.f.fullName.dirty||i.f.fullName.touched)?"has-error":""),e.xp6(7),e.Q6J("ngIf",null==i.f.fullName.errors?null:i.f.fullName.errors.required),e.xp6(1),e.Q6J("ngIf",null==i.f.fullName.errors?null:i.f.fullName.errors.pattern),e.xp6(2),e.Q6J("ngClass",i.f.service.invalid&&(i.f.service.dirty||i.f.service.touched)?"has-error":""),e.xp6(7),e.Q6J("ngIf",null==i.f.service.errors?null:i.f.service.errors.required),e.xp6(1),e.Q6J("ngIf",null==i.f.service.errors?null:i.f.service.errors.pattern),e.xp6(2),e.Q6J("ngClass",i.f.email.invalid&&(i.f.email.dirty||i.f.email.touched)?"has-error":""),e.xp6(7),e.Q6J("ngIf",null==i.f.email.errors?null:i.f.email.errors.required),e.xp6(1),e.Q6J("ngIf",null==i.f.email.errors?null:i.f.email.errors.pattern),e.xp6(2),e.Q6J("ngClass",i.f.phone.invalid&&(i.f.phone.dirty||i.f.phone.touched)?"has-error":""),e.xp6(7),e.Q6J("ngIf",null==i.f.phone.errors?null:i.f.phone.errors.required),e.xp6(1),e.Q6J("ngIf",null==i.f.phone.errors?null:i.f.phone.errors.pattern),e.xp6(1),e.Q6J("ngIf",!i.isProvider||i.isMobileDevice),e.xp6(2),e.Q6J("ngIf",!i.isProvider),e.xp6(1),e.Q6J("ngClass",i.isProvider?"show row":"hidden"),e.xp6(3),e.Q6J("ngIf",i.isMobileDevice),e.xp6(9),e.Q6J("src",i.imagePreview||"assets/img/profileDefault.png",e.LSH),e.xp6(3),e.Oqu(i.userForm.value.fullName),e.xp6(2),e.hij(" ",i.userForm.value.service," "),e.xp6(1),e.Q6J("ngIf",i.imagePreview),e.xp6(4),e.Akn(e.DdM(32,Vt)),e.Q6J("modal",!0)("breakpoints",e.DdM(33,jt))("visible",i.showModalForImage),e.xp6(4),e.Q6J("imageChangedEvent",i.imageChangedEvent)("aspectRatio",1),e.xp6(2),e.Q6J("src",i.croppedImage,e.LSH),e.xp6(2),e.Q6J("thick",!0))},dependencies:[_.mk,_.O5,h._Y,h.Fj,h.JJ,h.JL,h.sg,h.u,P.jx,F.lW,it,kt,j.Yh],styles:[".left-card[_ngcontent-%COMP%]{margin-right:1em;max-width:calc(66% - 1em)}textarea.form-control.textarea.ng-dirty.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}.flex-sb[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.flex-sb[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding:0}.button-flex[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:flex-end;margin-top:15px;margin-right:-15px}.button-conditional[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.hidden[_ngcontent-%COMP%]{display:none}.left-card[_ngcontent-%COMP%], .right-card[_ngcontent-%COMP%]{box-shadow:0 0 2rem #2930421a;background:#fff}.add-edit-form[_ngcontent-%COMP%]{padding:1em 0 2em}.title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1em;color:#3f51b5;font-size:22px;font-weight:600}.right-card[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{flex-direction:row}.right-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:1px solid #EFF2F5;box-shadow:inset 0 -37px 54px #0009;width:100%;border-radius:8px}.profile-img-section[_ngcontent-%COMP%]{position:relative}.about-section[_ngcontent-%COMP%]{position:absolute;bottom:1.5em;left:1em;display:flex;align-items:center;background:rgba(51,51,51,.3098039216);padding:5px;border-radius:5px}p.text-white.badge[_ngcontent-%COMP%]{display:flex;background:rgba(255,255,255,.35);border-radius:16px;justify-content:center;align-items:center;padding:9px 12px}.about-section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:0;padding-right:1em;font-size:18px}.edit-icon[_ngcontent-%COMP%]{position:absolute;right:1em;top:1em;cursor:pointer}.icon-round[_ngcontent-%COMP%]{background:#fff;border-radius:50%;height:40px;width:40px;display:flex;justify-content:center;align-items:center;cursor:pointer}.icon-round[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#3f51b5}image-cropper[_ngcontent-%COMP%]{max-width:90%;margin:0 auto}.modal-body[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:90%;display:flex;justify-content:center;margin:3em auto 0;border:2px solid gainsboro;border-radius:16px}.modal-body[_ngcontent-%COMP%]{border:none}.image-cropper-wrapper[_ngcontent-%COMP%]{display:flex}.image-cropper-wrapper[_ngcontent-%COMP%]   image-cropper[_ngcontent-%COMP%], .image-cropper-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{flex-basis:100%;text-align:center;border:1px solid black}  .p-dialog .p-dialog-footer{padding-top:2em}.description-field[_ngcontent-%COMP%]{margin-top:1.5em!important}@media screen and (max-width: 991px){.left-card[_ngcontent-%COMP%]{max-width:100%;margin-top:1em}.description-field[_ngcontent-%COMP%]{margin-top:0!important}.left-card[_ngcontent-%COMP%], .right-card[_ngcontent-%COMP%]{padding:1em!important;margin:0 auto}.add-edit-form[_ngcontent-%COMP%]{max-width:100%}}.btn-save[_ngcontent-%COMP%]:hover{background-color:#3f51b5}.btn-cancel[_ngcontent-%COMP%]:hover{background-color:#bdc0c4}.btn[_ngcontent-%COMP%]{margin:0 4px}.badge[_ngcontent-%COMP%]{color:#333!important}"],data:{animation:[O.U1,O.iM]}}),o})();var Kt=d(6896);const $t={0:"Jan",1:"Feb",2:"Mar",3:"Apr",4:"May",5:"Jun",6:"Jul",7:"Aug",8:"Sep",9:"Oct",10:"Nov",11:"Dec"};let ei=(()=>{class o{constructor(t){this.userService=t,this.userDetails={},this.profileImageUrl="https://g99plus.b-cdn.net/AEMR/assets/img/profileDefault.png"}ngOnInit(){this.userService.getUserProfile().subscribe(t=>{this.userDetails=t.user,this.userService.currentUserImgUrl.next({name:this.userDetails.fullName,imagePath:this.userDetails.imagePath}),this.payroll=this.userDetails.payroll.slice().sort((n,a)=>n.month?.slice(0,4)-a.month?.slice(0,4)).reverse(),this.profileImageUrl=this.userDetails.imagePath,this.attendance=this.userDetails.attendance.slice().reverse();const i=new Date(this.userDetails?.joindate);Object.entries($t).forEach(([n,a])=>{if(+n==+i.getMonth()){const s=i.getDate(),l=a,c=i.getFullYear();this.userDetails.joindate=`${l} ${s} ${c}`}})},t=>{console.log(t),"User record not found."===t.error.message&&this.userService.redirectToLogin()})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(S.K))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-employe-profile"]],decls:2,vars:5,consts:[[3,"userDetails","profileImageUrl","attendance","payroll"],[3,"thick"]],template:function(t,i){1&t&&e._UZ(0,"app-reusable-employee-profile",0)(1,"ng-progress",1),2&t&&(e.Q6J("userDetails",i.userDetails)("profileImageUrl",i.profileImageUrl)("attendance",i.attendance)("payroll",i.payroll),e.xp6(1),e.Q6J("thick",!0))},dependencies:[Kt.z,j.Yh],styles:[".centred[_ngcontent-%COMP%]{text-align:center;align-items:center;margin:auto}.profile-img[_ngcontent-%COMP%]{text-align:center;max-width:250px}.left-card[_ngcontent-%COMP%]{margin-right:1em;max-width:calc(66% - 1em)}textarea.form-control.textarea.ng-dirty.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}.flex-sb[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.flex-sb[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding:0}.button-flex[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:flex-end;margin-top:15px;margin-right:-15px}.button-conditional[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.hidden[_ngcontent-%COMP%]{display:none}.left-card[_ngcontent-%COMP%], .right-card[_ngcontent-%COMP%]{box-shadow:0 0 2rem #2930421a;background:#fff}.add-edit-form[_ngcontent-%COMP%]{padding:1em 0 2em}.title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1em;color:#3f51b5;font-size:22px;font-weight:600}.right-card[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{flex-direction:row}.right-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:1px solid #EFF2F5;box-shadow:inset 0 -37px 54px #0009;width:100%;border-radius:8px}.profile-img-section[_ngcontent-%COMP%]{position:relative}.about-section[_ngcontent-%COMP%]{position:absolute;bottom:1.5em;left:1em;display:flex;align-items:center;background:rgba(51,51,51,.3098039216);padding:5px;border-radius:5px}p.text-white.badge[_ngcontent-%COMP%]{display:flex;background:rgba(255,255,255,.35);border-radius:16px;justify-content:center;align-items:center;padding:9px 12px}.about-section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:0;padding-right:1em;font-size:18px}.edit-icon[_ngcontent-%COMP%]{position:absolute;right:1em;top:1em;cursor:pointer}.icon-round[_ngcontent-%COMP%]{background:#fff;border-radius:50%;height:40px;width:40px;display:flex;justify-content:center;align-items:center;cursor:pointer}.icon-round[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#3f51b5}image-cropper[_ngcontent-%COMP%]{max-width:90%;margin:0 auto}.modal-body[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:90%;display:flex;justify-content:center;margin:3em auto 0;border:2px solid gainsboro;border-radius:16px}.modal-body[_ngcontent-%COMP%]{border:none}.image-cropper-wrapper[_ngcontent-%COMP%]{display:flex}.image-cropper-wrapper[_ngcontent-%COMP%]   image-cropper[_ngcontent-%COMP%], .image-cropper-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{flex-basis:100%;text-align:center;border:1px solid black}  .p-dialog .p-dialog-footer{padding-top:2em}.description-field[_ngcontent-%COMP%]{margin-top:1.5em!important}@media screen and (max-width: 991px){.left-card[_ngcontent-%COMP%]{max-width:100%;margin-top:1em}.description-field[_ngcontent-%COMP%]{margin-top:0!important}.left-card[_ngcontent-%COMP%], .right-card[_ngcontent-%COMP%]{padding:1em!important;margin:0 auto}.add-edit-form[_ngcontent-%COMP%]{max-width:100%}}.btn-save[_ngcontent-%COMP%]:hover{background-color:#3f51b5}.btn-cancel[_ngcontent-%COMP%]:hover{background-color:#bdc0c4}.btn[_ngcontent-%COMP%]{margin:0 4px}.loader[_ngcontent-%COMP%]{height:10%;width:100%;bottom:0;position:fixed;text-align:-webkit-center;z-index:99999}.item-card[_ngcontent-%COMP%]{margin:10px 0}.mat-tab-label-container[_ngcontent-%COMP%]{z-index:0!important}"]}),o})();var ti=d(6568);let ii=(()=>{class o{constructor(t,i,n){this.formBuilder=t,this.userService=i,this.router=n}ngOnInit(){this.changePasswordForm=this.formBuilder.group({password:[]})}submit(){this.userService.getUserPayload();const i=this.changePasswordForm.controls.password.value;try{if(!this.changePasswordForm.valid)return void console.log("Form values are not valid");this.userService.changePassword(i).subscribe(n=>{console.log(n),!0===n.success&&this.router.navigate(["/employee/profile"])},n=>{console.log(n)})}catch{console.log("some error occured")}}onCancelSubmit(){this.changePasswordForm.reset(),this.router.navigate(["/employee/profile"])}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(h.qu),e.Y36(S.K),e.Y36(M.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-employee-change-password"]],decls:11,vars:3,consts:[[3,"formGroup","ngSubmit"],["formControlName","password"],[1,"col-lg-6"],[1,"form-group"],[1,"button-conditional"],["type","submit",1,"btn","btn-save","btn-regular",3,"disabled"],[1,"btn-text"],["type","button",1,"btn","btn-cancel","btn-regular",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return i.submit()}),e._UZ(1,"app-change-password-form",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5)(6,"span",6),e._uU(7,"Save"),e.qZA()(),e.TgZ(8,"button",7),e.NdJ("click",function(){return i.onCancelSubmit()}),e.TgZ(9,"span",6),e._uU(10,"Cancel"),e.qZA()()()()()()),2&t&&(e.Q6J("formGroup",i.changePasswordForm)("@slideUp",void 0),e.xp6(5),e.Q6J("disabled",!i.changePasswordForm.valid))},dependencies:[h._Y,h.JJ,h.JL,h.sg,h.u,ti.t],styles:[".button-flex[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:flex-end;margin-top:15px;margin-right:-15px}.button-conditional[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.hidden[_ngcontent-%COMP%]{display:none}@media screen and (max-width: 991px){.left-card[_ngcontent-%COMP%]{max-width:100%;margin-top:1em}.description-field[_ngcontent-%COMP%]{margin-top:0!important}.left-card[_ngcontent-%COMP%], .right-card[_ngcontent-%COMP%]{padding:1em!important;margin:0 auto}.add-edit-form[_ngcontent-%COMP%]{max-width:100%}}.btn-save[_ngcontent-%COMP%]:hover{background-color:#3f51b5}.btn-cancel[_ngcontent-%COMP%]:hover{background-color:#bdc0c4}.btn[_ngcontent-%COMP%]{margin:0 4px}"],data:{animation:[O.U1,O.iM]},changeDetection:0}),o})();var he=d(9549),X=d(3683),me=d(7392),K=d(4633),H=d(3267),Z=d(2693),ge=d(1281),w=d(9521),$=d(7579),U=d(727),ee=d(6451),ue=d(3101),te=d(8675),fe=d(3900),ie=d(5698),ne=d(2722),L=d(9300),_e=d(1005),ni=d(4080),k=d(3238),oi=d(445),B=d(8184),ai=d(3353),si=d(5589);const ri=["mat-menu-item",""];function li(o,r){1&o&&(e.O4$(),e.TgZ(0,"svg",2),e._UZ(1,"polygon",3),e.qZA())}const ve=["*"];function ci(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",0),e.NdJ("keydown",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a._handleKeydown(n))})("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.closed.emit("click"))})("@transformMenu.start",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a._onAnimationStart(n))})("@transformMenu.done",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a._onAnimationDone(n))}),e.TgZ(1,"div",1),e.Hsn(2),e.qZA()()}if(2&o){const t=e.oxw();e.Q6J("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),e.uIk("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const N={transformMenu:(0,u.X$)("transformMenu",[(0,u.SB)("void",(0,u.oB)({opacity:0,transform:"scale(0.8)"})),(0,u.eR)("void => enter",(0,u.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,u.oB)({opacity:1,transform:"scale(1)"}))),(0,u.eR)("* => void",(0,u.jt)("100ms 25ms linear",(0,u.oB)({opacity:0})))]),fadeInItems:(0,u.X$)("fadeInItems",[(0,u.SB)("showing",(0,u.oB)({opacity:1})),(0,u.eR)("void => *",[(0,u.oB)({opacity:0}),(0,u.jt)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},di=new e.OlP("MatMenuContent"),oe=new e.OlP("MAT_MENU_PANEL"),pi=(0,k.Kr)((0,k.Id)(class{}));let Y=(()=>{class o extends pi{constructor(t,i,n,a,s){super(),this._elementRef=t,this._document=i,this._focusMonitor=n,this._parentMenu=a,this._changeDetectorRef=s,this.role="menuitem",this._hovered=new $.x,this._focused=new $.x,this._highlighted=!1,this._triggersSubmenu=!1,a?.addItem?.(this)}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const t=this._elementRef.nativeElement.cloneNode(!0),i=t.querySelectorAll("mat-icon, .material-icons");for(let n=0;n<i.length;n++)i[n].remove();return t.textContent?.trim()||""}_setHighlighted(t){this._highlighted=t,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(e.SBq),e.Y36(_.K0),e.Y36(Z.tE),e.Y36(oe,8),e.Y36(e.sBO))},o.\u0275cmp=e.Xpm({type:o,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(t,i){1&t&&e.NdJ("click",function(a){return i._checkDisabled(a)})("mouseenter",function(){return i._handleMouseEnter()}),2&t&&(e.uIk("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled.toString())("disabled",i.disabled||null),e.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",i._highlighted)("mat-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[e.qOj],attrs:ri,ngContentSelectors:ve,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(t,i){1&t&&(e.F$t(),e.Hsn(0),e._UZ(1,"div",0),e.YNc(2,li,2,0,"svg",1)),2&t&&(e.xp6(1),e.Q6J("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),e.xp6(1),e.Q6J("ngIf",i._triggersSubmenu))},dependencies:[_.O5,k.wG],encapsulation:2,changeDetection:0}),o})();const be=new e.OlP("mat-menu-default-options",{providedIn:"root",factory:function hi(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let mi=0,D=(()=>{class o{constructor(t,i,n,a){this._elementRef=t,this._ngZone=i,this._defaultOptions=n,this._changeDetectorRef=a,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new e.n_E,this._tabSubscription=U.w0.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new $.x,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new e.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+mi++}get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=(0,ge.Ig)(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=(0,ge.Ig)(t)}set panelClass(t){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(n=>{this._classList[n]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(n=>{this._classList[n]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Z.Em(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,te.O)(this._directDescendantItems),(0,fe.w)(t=>(0,ee.T)(...t.map(i=>i._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t)),this._directDescendantItems.changes.subscribe(t=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const n=t.toArray(),a=Math.max(0,Math.min(n.length-1,i.activeItemIndex||0));n[a]&&!n[a].disabled?i.setActiveItem(a):i.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe((0,te.O)(this._directDescendantItems),(0,fe.w)(i=>(0,ee.T)(...i.map(n=>n._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const i=t.keyCode,n=this._keyManager;switch(i){case w.hY:(0,w.Vb)(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case w.oh:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case w.SV:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(i===w.LH||i===w.JH)&&n.setFocusOrigin("keyboard"),void n.onKeydown(t)}t.stopPropagation()}focusFirstItem(t="program"){this._ngZone.onStable.pipe((0,ie.q)(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const n=this._keyManager;n.setFocusOrigin(t).setFirstItemActive(),!n.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const i=Math.min(this._baseElevation+t,24),n=`${this._elevationPrefix}${i}`,a=Object.keys(this._classList).find(s=>s.startsWith(this._elevationPrefix));(!a||a===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[n]=!0,this._previousElevation=n)}setPositionClasses(t=this.xPosition,i=this.yPosition){const n=this._classList;n["mat-menu-before"]="before"===t,n["mat-menu-after"]="after"===t,n["mat-menu-above"]="above"===i,n["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,te.O)(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(be),e.Y36(e.sBO))},o.\u0275dir=e.lG2({type:o,contentQueries:function(t,i,n){if(1&t&&(e.Suo(n,di,5),e.Suo(n,Y,5),e.Suo(n,Y,4)),2&t){let a;e.iGM(a=e.CRH())&&(i.lazyContent=a.first),e.iGM(a=e.CRH())&&(i._allItems=a),e.iGM(a=e.CRH())&&(i.items=a)}},viewQuery:function(t,i){if(1&t&&e.Gf(e.Rgc,5),2&t){let n;e.iGM(n=e.CRH())&&(i.templateRef=n.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),o})(),gi=(()=>{class o extends D{constructor(t,i,n,a){super(t,i,n,a),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(be),e.Y36(e.sBO))},o.\u0275cmp=e.Xpm({type:o,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(t,i){2&t&&e.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[e._Bn([{provide:oe,useExisting:o}]),e.qOj],ngContentSelectors:ve,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(t,i){1&t&&(e.F$t(),e.YNc(0,ci,3,6,"ng-template"))},dependencies:[_.mk],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px;position:relative}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[N.transformMenu,N.fadeInItems]},changeDetection:0}),o})();const xe=new e.OlP("mat-menu-scroll-strategy"),fi={provide:xe,deps:[B.aV],useFactory:function ui(o){return()=>o.scrollStrategies.reposition()}},Me=(0,ai.i$)({passive:!0});let _i=(()=>{class o{constructor(t,i,n,a,s,l,c,p,m){this._overlay=t,this._element=i,this._viewContainerRef=n,this._menuItemInstance=l,this._dir=c,this._focusMonitor=p,this._ngZone=m,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=U.w0.EMPTY,this._hoverSubscription=U.w0.EMPTY,this._menuCloseSubscription=U.w0.EMPTY,this._handleTouchStart=g=>{(0,Z.yG)(g)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new e.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new e.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=a,this._parentMaterialMenu=s instanceof D?s:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,Me),l&&(l._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})))}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,Me),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const t=this.menu;if(this._menuOpen||!t)return;const i=this._createOverlay(t),n=i.getConfig(),a=n.positionStrategy;this._setPosition(t,a),n.hasBackdrop=t.hasBackdrop??!this.triggersSubmenu(),i.attach(this._getPortal(t)),t.lazyContent&&t.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(t),t instanceof D&&(t._startAnimation(),t._directDescendantItems.changes.pipe((0,ne.R)(t.close)).subscribe(()=>{a.withLockedPosition(!1).reapplyLastPosition(),a.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(t){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===t||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof D?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe((0,L.h)(n=>"void"===n.toState),(0,ie.q)(1),(0,ne.R)(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(t){t.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,t.direction=this.dir,this._setMenuElevation(t),t.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(t){if(t.setElevation){let i=0,n=t.parentMenu;for(;n;)i++,n=n.parentMenu;t.setElevation(i)}}_setIsMenuOpen(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t)}_createOverlay(t){if(!this._overlayRef){const i=this._getOverlayConfig(t);this._subscribeToPositions(t,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(t){return new B.X_({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:t.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:t.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t,i){t.setPositionClasses&&i.positionChanges.subscribe(n=>{const a="start"===n.connectionPair.overlayX?"after":"before",s="top"===n.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>t.setPositionClasses(a,s)):t.setPositionClasses(a,s)})}_setPosition(t,i){let[n,a]="before"===t.xPosition?["end","start"]:["start","end"],[s,l]="above"===t.yPosition?["bottom","top"]:["top","bottom"],[c,p]=[s,l],[m,g]=[n,a],v=0;if(this.triggersSubmenu()){if(g=n="before"===t.xPosition?"start":"end",a=m="end"===n?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const y=this._parentMaterialMenu.items.first;this._parentInnerPadding=y?y._getHostElement().offsetTop:0}v="bottom"===s?this._parentInnerPadding:-this._parentInnerPadding}}else t.overlapTrigger||(c="top"===s?"bottom":"top",p="top"===l?"bottom":"top");i.withPositions([{originX:n,originY:c,overlayX:m,overlayY:s,offsetY:v},{originX:a,originY:c,overlayX:g,overlayY:s,offsetY:v},{originX:n,originY:p,overlayX:m,overlayY:l,offsetY:-v},{originX:a,originY:p,overlayX:g,overlayY:l,offsetY:-v}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),n=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,G.of)(),a=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,L.h)(s=>s!==this._menuItemInstance),(0,L.h)(()=>this._menuOpen)):(0,G.of)();return(0,ee.T)(t,n,a,i)}_handleMousedown(t){(0,Z.X6)(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const i=t.keyCode;(i===w.K5||i===w.L_)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(i===w.SV&&"ltr"===this.dir||i===w.oh&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,L.h)(t=>t===this._menuItemInstance&&!t.disabled),(0,_e.g)(0,ue.E)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof D&&this.menu._isAnimating?this.menu._animationDone.pipe((0,ie.q)(1),(0,_e.g)(0,ue.E),(0,ne.R)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(t){return(!this._portal||this._portal.templateRef!==t.templateRef)&&(this._portal=new ni.UE(t.templateRef,this._viewContainerRef)),this._portal}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(B.aV),e.Y36(e.SBq),e.Y36(e.s_b),e.Y36(xe),e.Y36(oe,8),e.Y36(Y,10),e.Y36(oi.Is,8),e.Y36(Z.tE),e.Y36(e.R0b))},o.\u0275dir=e.lG2({type:o,hostVars:3,hostBindings:function(t,i){1&t&&e.NdJ("click",function(a){return i._handleClick(a)})("mousedown",function(a){return i._handleMousedown(a)})("keydown",function(a){return i._handleKeydown(a)}),2&t&&e.uIk("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen||null)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),o})(),vi=(()=>{class o extends _i{}return o.\u0275fac=function(){let r;return function(i){return(r||(r=e.n5z(o)))(i||o)}}(),o.\u0275dir=e.lG2({type:o,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[e.qOj]}),o})(),bi=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[fi],imports:[_.ez,k.BQ,k.si,B.U8,si.ZD,k.BQ]}),o})();const xi=["sidenav"],ye=function(){return{exact:!0}},Mi=function(o){return{overflow:o}};let yi=(()=>{class o{constructor(t,i){this.userService=t,this.router=i,this.isLeavesActive=!1,this.currentUserName=""}ngOnInit(){this.isLeavesActive="/employee/leaves/check"===this.router.url||"/employee/leaves/apply"===this.router.url,this.displayNavbar=!0,this.subscription=this.userService.currentUserImgUrl.subscribe(t=>{this.currentUserName=t.name,this.currentUserImgUrl=t.imagePath}),(!this.currentUserName||!this.currentUserImgUrl)&&this.userService.getUserProfile().subscribe(t=>{this.currentUserImgUrl=t.user.imagePath,this.currentUserName=t.user.fullName})}toggleBodyScroll(){document.body.style.overflow=this.sidenav.opened?"hidden":"auto"}toggleNavbar(){this.sidenav.close(),this.displayNavbar||(this.displayNavbar=!0),this.displayNavbar=!this.displayNavbar}navigate(t){this.sidenav.close(),document.body.style.overflow="auto",this.isLeavesActive="/employee/leaves/check"===t||"/employee/leaves/apply"===t,this.router.navigate([t])}onLogOut(){this.sidenav.close(),this.userService.deleteToken(),localStorage.removeItem("name"),document.body.style.overflow="auto",this.router.navigate(["/employee/login"])}ngOnDestroy(){this.subscription.unsubscribe()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(S.K),e.Y36(M.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-header"]],viewQuery:function(t,i){if(1&t&&e.Gf(xi,5),2&t){let n;e.iGM(n=e.CRH())&&(i.sidenav=n.first)}},decls:79,vars:14,consts:[[2,"height","89vh"],["color","primary",1,"desktop","topnav"],[1,"nav-brand","userImg"],[1,"imgPath",3,"src","alt"],[1,"menu-spacer"],["fxShow","true","fxHide.lt-md","",1,"topnav-right"],["mat-button","","routerLinkActive","active","routerLink","/employee/profile/edit",3,"click"],["matPrefix",""],["mat-button","","routerLinkActive","active","routerLink","/employee/profile",3,"routerLinkActiveOptions","click"],["mat-button","","routerLinkActive","active",3,"matMenuTriggerFor"],["leaves","matMenu"],["mat-menu-item","","routerLink","/employee/leaves/check",3,"click"],["mat-menu-item","","routerLink","/employee/leaves/apply",3,"click"],["mat-button","","routerLinkActive","active","routerLink","/employee/settings/change-password",3,"click"],["mat-button","",3,"click"],["color","primary",1,"mobile"],["mat-mini-fab","","color","primary","fxShow","true","fxHide.gt-sm","",3,"click"],["fxFlexFill","",3,"click"],["mat-icon-button","",3,"click"],[1,"sidenav"],["sidenav",""],[1,"inner-sidenav"],["mat-list-item","","routerLinkActive","active","routerLink","/employee/profile/edit",3,"click"],["matPrefix","",1,"material-icon"],["mat-list-item","","routerLinkActive","active","routerLink","/employee/profile",3,"routerLinkActiveOptions","click"],["mat-list-item","",3,"matMenuTriggerFor"],["mat-list-item","","routerLinkActive","active","routerLink","/employee/settings/change-password",3,"click"],["mat-list-item","",3,"click"],["fxFlexFill","",3,"ngStyle"],[1,"container",2,"padding","10px","min-height","100vh"]],template:function(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"div",0)(1,"mat-toolbar",1)(2,"mat-toolbar-row")(3,"div",2),e._UZ(4,"img",3),e._uU(5),e.qZA(),e._UZ(6,"span",4),e.TgZ(7,"div",5)(8,"a",6),e.NdJ("click",function(){return i.navigate("/employee/profile/edit")}),e.TgZ(9,"mat-icon",7),e._uU(10,"edit"),e.qZA(),e._uU(11," Edit Profile "),e.qZA(),e.TgZ(12,"a",8),e.NdJ("click",function(){return i.navigate("/employee/profile")}),e.TgZ(13,"mat-icon",7),e._uU(14,"person"),e.qZA(),e._uU(15," Profile "),e.qZA(),e.TgZ(16,"a",9)(17,"mat-icon",7),e._uU(18,"book"),e.qZA(),e._uU(19," Leaves "),e.TgZ(20,"mat-icon",7),e._uU(21,"expand_more"),e.qZA(),e.TgZ(22,"mat-menu",null,10)(24,"button",11),e.NdJ("click",function(){return i.navigate("/employee/leaves/check")}),e._uU(25,"Check Leaves"),e.qZA(),e.TgZ(26,"button",12),e.NdJ("click",function(){return i.navigate("/employee/leaves/apply")}),e._uU(27,"Apply Leaves"),e.qZA()()(),e.TgZ(28,"a",13),e.NdJ("click",function(){return i.navigate("/employee/settings/change-password")}),e.TgZ(29,"mat-icon",7),e._uU(30,"settings"),e.qZA(),e._uU(31," Settings "),e.qZA(),e.TgZ(32,"a",14),e.NdJ("click",function(){return i.onLogOut()}),e.TgZ(33,"mat-icon",7),e._uU(34,"logout"),e.qZA(),e._uU(35," Logout "),e.qZA()()()(),e.TgZ(36,"mat-toolbar",15)(37,"mat-toolbar-row")(38,"button",16),e.NdJ("click",function(){return e.CHM(n),e.MAs(46).toggle(),e.KtG(i.toggleBodyScroll())}),e.TgZ(39,"mat-icon"),e._uU(40,"menu"),e.qZA()()()(),e.TgZ(41,"mat-sidenav-container",17),e.NdJ("click",function(){return i.toggleBodyScroll()}),e.TgZ(42,"button",18),e.NdJ("click",function(){e.CHM(n);const s=e.MAs(46);return e.KtG(s.toggle())}),e.TgZ(43,"mat-icon"),e._uU(44,"Home"),e.qZA()(),e.TgZ(45,"mat-sidenav",19,20)(47,"mat-nav-list",21)(48,"a",22),e.NdJ("click",function(){return i.navigate("/employee/profile/edit")}),e.TgZ(49,"mat-icon",23),e._uU(50,"edit"),e.qZA(),e._uU(51," Edit Profile "),e.qZA(),e.TgZ(52,"a",24),e.NdJ("click",function(){return i.navigate("/employee/profile")}),e.TgZ(53,"mat-icon",23),e._uU(54,"person"),e.qZA(),e._uU(55," Profile "),e.qZA(),e.TgZ(56,"a",25)(57,"mat-icon",23),e._uU(58,"book"),e.qZA(),e._uU(59," Leaves "),e.TgZ(60,"mat-icon",23),e._uU(61," expand_more"),e.qZA(),e.TgZ(62,"mat-menu",null,10)(64,"button",11),e.NdJ("click",function(){return i.navigate("/employee/leaves/check")}),e._uU(65,"Check Leaves"),e.qZA(),e.TgZ(66,"button",12),e.NdJ("click",function(){return i.navigate("/employee/leaves/apply")}),e._uU(67,"Apply Leaves"),e.qZA()()(),e.TgZ(68,"a",26),e.NdJ("click",function(){return i.navigate("/employee/settings/change-password")}),e.TgZ(69,"mat-icon",23),e._uU(70,"settings"),e.qZA(),e._uU(71," Settings "),e.qZA(),e.TgZ(72,"a",27),e.NdJ("click",function(){return i.onLogOut()}),e.TgZ(73,"mat-icon",23),e._uU(74,"logout"),e.qZA(),e._uU(75," Logout "),e.qZA()()(),e.TgZ(76,"mat-sidenav-content",28)(77,"div",29),e._UZ(78,"router-outlet"),e.qZA()()()()}if(2&t){const n=e.MAs(23),a=e.MAs(46);e.Udp("visibility",i.displayNavbar?"visible":"hidden"),e.xp6(4),e.Q6J("src",i.currentUserImgUrl||"assets/img/profileDefault.png",e.LSH)("alt",i.currentUserName),e.xp6(1),e.hij(" ",i.currentUserName," "),e.xp6(7),e.Q6J("routerLinkActiveOptions",e.DdM(10,ye)),e.xp6(4),e.Q6J("matMenuTriggerFor",n),e.xp6(36),e.Q6J("routerLinkActiveOptions",e.DdM(11,ye)),e.xp6(4),e.Q6J("matMenuTriggerFor",n),e.xp6(20),e.Q6J("ngStyle",e.VKq(12,Mi,a.opened?"hidden":"auto"))}},dependencies:[_.PC,M.lC,M.rH,M.yS,M.Od,he.qo,X.Ye,X.rD,me.Hw,K.Hk,K.Tg,F.lW,F.zs,H.JX,H.TM,H.Rh,gi,Y,vi],styles:[".mobile[_ngcontent-%COMP%]{visibility:hidden;opacity:0;display:none}.p-submenu-list[_ngcontent-%COMP%]{z-index:1000!important}@media screen and (max-width: 480px){.mobile[_ngcontent-%COMP%]{visibility:visible;opacity:1;display:block}}.userImg[_ngcontent-%COMP%]{border-radius:50%;width:42px;height:42px}.imgPath[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:100%;object-fit:cover}",".desktop[_ngcontent-%COMP%]{visibility:visible;opacity:1;display:block}.mobile[_ngcontent-%COMP%]{visibility:hidden;opacity:0;display:none}section[_ngcontent-%COMP%]{display:table}.example-label[_ngcontent-%COMP%]{display:table-cell;font-size:14px;margin-left:8px;min-width:120px}.example-button-row[_ngcontent-%COMP%]{display:table-cell;width:490px}.example-button-row[_ngcontent-%COMP%]   .mat-button-base[_ngcontent-%COMP%]{margin:8px 8px 8px 0}.example-flex-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap}.example-button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;width:120px}.topnav[_ngcontent-%COMP%]{overflow:hidden}.topnav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{float:left;color:#f2f2f2;font-size:14px;padding:0 12px;margin:auto 2px;text-decoration:none}.topnav-right[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%], .inner-sidenav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#ff0;background:#3345ab}.inner-sidenav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .topnav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ff0;background:#3a4ec0}.nav-brand[_ngcontent-%COMP%]{float:left}.topnav-right[_ngcontent-%COMP%]{float:right;text-align:right}.sidenav[_ngcontent-%COMP%]{background-color:#3f51b5;z-index:1000;min-width:30%}.inner-sidenav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;font-size:14px;padding:0}.material-icon[_ngcontent-%COMP%]{margin-right:6px}@media screen and (min-width: 840px){.mat-toolbar-row[_ngcontent-%COMP%]{display:block;margin-top:13px;position:fixed;top:0}}@media screen and (max-width: 940px){.topnav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:12px!important}}@media screen and (max-width: 840px){.desktop[_ngcontent-%COMP%]{visibility:hidden;opacity:0;display:none}}@media screen and (max-width: 841px){.mobile[_ngcontent-%COMP%]{visibility:visible;opacity:1;display:block}}"]}),o})();var Ce=d(666);function Ci(o,r){1&o&&(e.TgZ(0,"div",35)(1,"h3"),e._uU(2,"Apply for Leave"),e.qZA()())}function wi(o,r){1&o&&e._uU(0),2&o&&e.hij(" ",r.$implicit.name," ")}function Ai(o,r){1&o&&(e.TgZ(0,"div"),e._UZ(1,"i",36),e._uU(2," Reason is required. "),e.qZA())}function Ti(o,r){1&o&&(e.TgZ(0,"div"),e._UZ(1,"i",36),e._uU(2," From is required. "),e.qZA())}function Ii(o,r){1&o&&(e.TgZ(0,"div"),e._UZ(1,"i",36),e._uU(2," From is invalid. "),e.qZA())}function Oi(o,r){1&o&&(e.TgZ(0,"div"),e._UZ(1,"i",36),e._uU(2," To is required. "),e.qZA())}function Si(o,r){1&o&&(e.TgZ(0,"div"),e._UZ(1,"i",36),e._uU(2," To is invalid. "),e.qZA())}function Pi(o,r){1&o&&(e.TgZ(0,"div"),e._UZ(1,"i",36),e._uU(2,' "From" date is greater than "To" date '),e.qZA())}function ki(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",14)(1,"div",37)(2,"button",38)(3,"span",39),e._uU(4,"Apply"),e.qZA()(),e.TgZ(5,"button",40),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onCancelSubmit())}),e.TgZ(6,"span",39),e._uU(7,"Cancel"),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(2),e.Q6J("disabled",!t.userForm.valid)}}function Ei(o,r){1&o&&(e.TgZ(0,"div",35)(1,"h3"),e._uU(2,"Apply For Leave"),e.qZA()())}let Ri=(()=>{class o{constructor(t,i){this.userService=t,this.router=i,this.isMobileDevice=!1,this.isProvider=!1,this.profileImageUrl="https://g99plus.b-cdn.net/AEMR/assets/img/profileDefault.png",this.leavesReasons=[{name:"Sick Leave"},{name:"Urgent Work"},{name:"Doctor"},{name:"Other"}],this.status="Pending"}ngOnInit(){this.userForm=new h.cw({reason:new h.NI("",[h.kI.required]),from:new h.NI("",[h.kI.required]),to:new h.NI("",[h.kI.required])}),this.onResize()}isDateValid(){let t=this.userForm.value;t.to&&t.from&&t.to<t.from?(this.userForm.controls.to.setErrors({incorrect:!0}),this.userForm.controls.from.setErrors({incorrect:!0})):(this.userForm.controls.to.setErrors(null),this.userForm.controls.from.setErrors(null))}submitForm(){let t=this.userForm.value;if(t.to&&t.from&&t.to<t.from)return this.userForm.controls.to.setErrors({incorrect:!0}),void this.userForm.controls.from.setErrors({incorrect:!0});t.status=this.status;try{this.userService.applyLeave(t).subscribe(i=>{this.router.navigate(["/employee/leaves/check"])},i=>{console.log(i)})}catch{console.log("some error occured")}}fileChangeEvent(t){console.log(t)}cancelImageUpload(){}saveImage(){}onResize(){this.isMobileDevice=window.innerWidth<=768}get f(){return this.userForm.controls}onCancelSubmit(){this.router.navigate(["/employee/leaves/check"])}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(S.K),e.Y36(M.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-apply-leaves"]],hostBindings:function(t,i){1&t&&e.NdJ("resize",function(a){return i.onResize(a)},!1,e.Jf7)},decls:64,vars:20,consts:[[1,"blue-card"],[3,"formGroup","ngSubmit"],[1,"row","mx-0"],[1,"col-lg-8","col-md-12","col-sm-12","px-0","left-card","order-1","order-lg-0"],[1,"add-edit-form"],["class","title",4,"ngIf"],[1,"form","form-type2"],[1,"col-lg-6","col-md-12","col-sm-12"],[1,"form-group",3,"ngClass"],[1,"error-red"],["formControlName","reason","filterBy","name","placeholder","Select Reason","optionLabel","name","optionValue","name",3,"options","filter"],["pTemplate","clinics"],[1,"error","error-msg"],[4,"ngIf"],[1,"form-group"],["type","text","appErrorStylingDirective","","disabled","",1,"form-control","input-type2"],["type","Date","formControlName","from","appErrorStylingDirective","",1,"form-control","input-type2",3,"change"],["type","date","formControlName","to","appErrorStylingDirective","",1,"form-control","input-type2",3,"change"],[1,"col-lg-6"],["class","form-group",4,"ngIf"],[3,"ngClass"],[1,"col-lg-4","col-md-12","col-sm-12","px-0","right-card","order-0","order-lg-1"],[1,"right-card-wrapper"],[1,"profile-img-section"],[1,"edit-icon"],["type","file","id","file-input","accept","image/*",1,"form-control","d-none",3,"change"],["myFileInput",""],["for","file-input"],[1,"icon-round"],[1,"fa","fa-pencil"],[3,"src"],[1,"about-section"],[1,"title","text-white"],[1,"text-white","badge"],[1,"description-field","row","mx-0"],[1,"title"],["aria-hidden","true",1,"fa","fa-exclamation-triangle"],[1,"button-conditional"],["type","submit",1,"btn","btn-save","btn-regular",3,"disabled"],[1,"btn-text"],["type","button",1,"btn","btn-cancel","btn-regular",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"form",1),e.NdJ("ngSubmit",function(){return i.submitForm()}),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4),e.YNc(5,Ci,3,0,"div",5),e.TgZ(6,"div",6)(7,"div",2)(8,"div",7)(9,"div",8)(10,"label"),e._uU(11,"Reason"),e.TgZ(12,"span",9),e._uU(13,"*"),e.qZA()(),e.TgZ(14,"p-dropdown",10),e.YNc(15,wi,1,1,"ng-template",11),e.qZA(),e.TgZ(16,"div",12),e.YNc(17,Ai,3,0,"div",13),e.qZA()()(),e.TgZ(18,"div",7)(19,"div",14)(20,"label"),e._uU(21,"Remaining Leaves"),e.qZA(),e._UZ(22,"input",15),e.qZA()(),e.TgZ(23,"div",7)(24,"div",8)(25,"label"),e._uU(26,"From"),e.TgZ(27,"span",9),e._uU(28,"*"),e.qZA()(),e.TgZ(29,"input",16),e.NdJ("change",function(){return i.isDateValid()}),e.qZA(),e.TgZ(30,"div",12),e.YNc(31,Ti,3,0,"div",13),e.YNc(32,Ii,3,0,"div",13),e.qZA()()(),e.TgZ(33,"div",7)(34,"div",8)(35,"label"),e._uU(36,"To"),e.TgZ(37,"span",9),e._uU(38,"*"),e.qZA()(),e.TgZ(39,"input",17),e.NdJ("change",function(){return i.isDateValid()}),e.qZA(),e.TgZ(40,"div",12),e.YNc(41,Oi,3,0,"div",13),e.YNc(42,Si,3,0,"div",13),e.YNc(43,Pi,3,0,"div",13),e.qZA()()(),e.TgZ(44,"div",18),e.YNc(45,ki,8,1,"div",19),e.qZA(),e._UZ(46,"div",20),e.qZA()()()(),e.TgZ(47,"div",21)(48,"div",22),e.YNc(49,Ei,3,0,"div",5),e.TgZ(50,"div",23)(51,"div",24)(52,"input",25,26),e.NdJ("change",function(a){return i.fileChangeEvent(a)}),e.qZA(),e.TgZ(54,"label",27)(55,"div",28)(56,"span"),e._UZ(57,"i",29),e.qZA()()()(),e._UZ(58,"img",30),e.TgZ(59,"div",31)(60,"h4",32),e._uU(61),e.qZA(),e._UZ(62,"p",33),e.qZA()(),e._UZ(63,"div",34),e.qZA()()()()()),2&t&&(e.Q6J("@fade",void 0),e.xp6(1),e.Q6J("formGroup",i.userForm),e.xp6(4),e.Q6J("ngIf",!i.isMobileDevice),e.xp6(4),e.Q6J("ngClass",i.f.reason.invalid&&(i.f.reason.dirty||i.f.reason.touched)?"has-error":""),e.xp6(5),e.Q6J("options",i.leavesReasons)("filter",!0),e.xp6(3),e.Q6J("ngIf",null==i.f.reason.errors?null:i.f.reason.errors.required),e.xp6(7),e.Q6J("ngClass",i.f.from.invalid&&(i.f.from.dirty||i.f.from.touched)?"has-error":""),e.xp6(7),e.Q6J("ngIf",null==i.f.from.errors?null:i.f.from.errors.required),e.xp6(1),e.Q6J("ngIf",null==i.f.from.errors?null:i.f.from.errors.pattern),e.xp6(2),e.Q6J("ngClass",i.f.to.invalid&&(i.f.to.dirty||i.f.to.touched)?"has-error":""),e.xp6(7),e.Q6J("ngIf",null==i.f.to.errors?null:i.f.to.errors.required),e.xp6(1),e.Q6J("ngIf",null==i.f.to.errors?null:i.f.to.errors.pattern),e.xp6(1),e.Q6J("ngIf",null==i.f.to.errors?null:i.f.to.errors.incorrect),e.xp6(2),e.Q6J("ngIf",!i.isProvider),e.xp6(1),e.Q6J("ngClass",i.isProvider?"show row":"hidden"),e.xp6(3),e.Q6J("ngIf",i.isMobileDevice),e.xp6(9),e.Q6J("src",i.profileImageUrl||"https://g99plus.b-cdn.net/AEMR/assets/img/profileDefault.png",e.LSH),e.xp6(3),e.AsE("",i.userForm.value.firstName," ",i.userForm.value.lastName,""))},dependencies:[_.mk,_.O5,h._Y,h.Fj,h.JJ,h.JL,h.sg,h.u,Ce.Lt,P.jx],styles:[".centred[_ngcontent-%COMP%]{text-align:center;align-items:center;margin:auto}.profile-img[_ngcontent-%COMP%]{text-align:center;max-width:250px}.left-card[_ngcontent-%COMP%]{margin-right:1em;max-width:calc(66% - 1em)}textarea.form-control.textarea.ng-dirty.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}.flex-sb[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.flex-sb[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding:0}.button-flex[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:flex-end;margin-top:15px;margin-right:-15px}.button-conditional[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.hidden[_ngcontent-%COMP%]{display:none}.left-card[_ngcontent-%COMP%], .right-card[_ngcontent-%COMP%]{box-shadow:0 0 2rem #2930421a;background:#fff}.add-edit-form[_ngcontent-%COMP%]{padding:1em 0 2em}.title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1em;color:#3f51b5;font-size:22px;font-weight:600}.right-card[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{flex-direction:row}.right-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:1px solid #EFF2F5;box-shadow:inset 0 -37px 54px #0009;width:100%;border-radius:8px}.profile-img-section[_ngcontent-%COMP%]{position:relative}.about-section[_ngcontent-%COMP%]{position:absolute;bottom:1.5em;left:1em;display:flex;align-items:center;background:rgba(51,51,51,.3098039216);padding:5px;border-radius:5px}p.text-white.badge[_ngcontent-%COMP%]{display:flex;background:rgba(255,255,255,.35);border-radius:16px;justify-content:center;align-items:center;padding:9px 12px}.about-section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:0;padding-right:1em;font-size:18px}.edit-icon[_ngcontent-%COMP%]{position:absolute;right:1em;top:1em;cursor:pointer}.icon-round[_ngcontent-%COMP%]{background:#fff;border-radius:50%;height:40px;width:40px;display:flex;justify-content:center;align-items:center;cursor:pointer}.icon-round[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#3f51b5}image-cropper[_ngcontent-%COMP%]{max-width:90%;margin:0 auto}.modal-body[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:90%;display:flex;justify-content:center;margin:3em auto 0;border:2px solid gainsboro;border-radius:16px}.modal-body[_ngcontent-%COMP%]{border:none}.image-cropper-wrapper[_ngcontent-%COMP%]{display:flex}.image-cropper-wrapper[_ngcontent-%COMP%]   image-cropper[_ngcontent-%COMP%], .image-cropper-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{flex-basis:100%;text-align:center;border:1px solid black}  .p-dialog .p-dialog-footer{padding-top:2em}.description-field[_ngcontent-%COMP%]{margin-top:1.5em!important}@media screen and (max-width: 991px){.left-card[_ngcontent-%COMP%]{max-width:100%;margin-top:1em}.description-field[_ngcontent-%COMP%]{margin-top:0!important}.left-card[_ngcontent-%COMP%], .right-card[_ngcontent-%COMP%]{padding:1em!important;margin:0 auto}.add-edit-form[_ngcontent-%COMP%]{max-width:100%}}.btn-save[_ngcontent-%COMP%]:hover{background-color:#3f51b5}.btn-cancel[_ngcontent-%COMP%]:hover{background-color:#bdc0c4}.btn[_ngcontent-%COMP%]{margin:0 4px}.loader[_ngcontent-%COMP%]{height:10%;width:100%;bottom:0;position:fixed;text-align:-webkit-center;z-index:99999}.item-card[_ngcontent-%COMP%]{margin:10px 0}.mat-tab-label-container[_ngcontent-%COMP%]{z-index:0!important}"],data:{animation:[O.U1,O.iM]}}),o})();var Zi=d(2248),Di=d(7827);const zi=[{path:"",component:yi,children:[{path:"",redirectTo:"profile",pathMatch:"full"},{path:"profile",canActivate:[A],children:[{path:"",component:ei,data:{title:"Employe Profile - Younedia"},canActivate:[A]},{path:"edit",component:Xt,data:{title:"Edit Profile - Younedia"},canActivate:[A]}]},{path:"settings",canActivate:[A],children:[{path:"change-password",component:ii,data:{title:"Change Employee Password - Younedia"},canActivate:[A]}]},{path:"leaves",canActivate:[A],children:[{path:"check",component:(()=>{class o{constructor(t,i){this.formatTimeService=t,this.userService=i,this.leaves=[],this.userDetails={},this.globalFilterColumn=["from","to","reason","status"],this.columns=[{header:"From",field:"from",fieldName:"from"},{header:"To",field:"to",fieldName:"to"},{header:"Reason",field:"reason",fieldName:"reason"},{header:"Status",field:"status",fieldName:"status"}],this._selectedColumns=this.columns}get selectedColumns(){return this._selectedColumns}set selectedColumns(t){this._selectedColumns=this.columns.filter(i=>t.includes(i))}ngOnInit(){this.userService.getUserProfile().subscribe(t=>{this.userDetails=t.user,this.leaves=this.userDetails.leaves.reverse()},t=>{console.log(t)})}createTrigger(){}getCustomCss(t){return"Approved"==t?"success":"Denied"==t?"danger":"warn"}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Zi.i),e.Y36(S.K))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-leaves"]],inputs:{selectedColumns:"selectedColumns"},decls:1,vars:2,consts:[[3,"leaves","userDetails"]],template:function(t,i){1&t&&e._UZ(0,"app-check-leaves",0),2&t&&e.Q6J("leaves",i.leaves)("userDetails",i.userDetails)},dependencies:[Di.c],data:{animation:[O.U1,O.iM]}}),o})(),data:{title:"Check leaves - Younedia"},canActivate:[A]},{path:"apply",component:Ri,data:{title:"Apply leaves - Younedia"},canActivate:[A]}]},{path:"404",component:Ee.r,data:{title:"Page Not Found - Younedia"},canActivate:[A]},{path:"**",redirectTo:"404"}]}];let Fi=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[M.Bz.forChild(zi),M.Bz]}),o})();var Hi=d(4466),Ui=d(5722),Li=d(615),Bi=d(3214),Ni=d(7318);const Yi=function(o,r,t){return{"p-inputswitch p-component":!0,"p-inputswitch-checked":o,"p-disabled":r,"p-focus":t}},Ji={provide:h.JU,useExisting:(0,e.Gpc)(()=>Qi),multi:!0};let Qi=(()=>{class o{constructor(t){this.cd=t,this.trueValue=!0,this.falseValue=!1,this.onChange=new e.vpe,this.modelValue=!1,this.focused=!1,this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClick(t,i){!this.disabled&&!this.readonly&&(t.preventDefault(),this.toggle(t),i.focus())}onInputChange(t){this.readonly||this.updateModel(t,t.target.checked)}toggle(t){this.updateModel(t,!this.checked())}updateModel(t,i){this.modelValue=i?this.trueValue:this.falseValue,this.onModelChange(this.modelValue),this.onChange.emit({originalEvent:t,checked:this.modelValue})}onFocus(t){this.focused=!0}onBlur(t){this.focused=!1,this.onModelTouched()}writeValue(t){this.modelValue=t,this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}checked(){return this.modelValue===this.trueValue}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(e.sBO))},o.\u0275cmp=e.Xpm({type:o,selectors:[["p-inputSwitch"]],hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",tabindex:"tabindex",inputId:"inputId",name:"name",disabled:"disabled",readonly:"readonly",trueValue:"trueValue",falseValue:"falseValue",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy"},outputs:{onChange:"onChange"},features:[e._Bn([Ji])],decls:5,vars:16,consts:[[3,"ngClass","ngStyle","click"],[1,"p-hidden-accessible"],["type","checkbox","role","switch",3,"checked","disabled","change","focus","blur"],["cb",""],[1,"p-inputswitch-slider"]],template:function(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"div",0),e.NdJ("click",function(s){e.CHM(n);const l=e.MAs(3);return e.KtG(i.onClick(s,l))}),e.TgZ(1,"div",1)(2,"input",2,3),e.NdJ("change",function(s){return i.onInputChange(s)})("focus",function(s){return i.onFocus(s)})("blur",function(s){return i.onBlur(s)}),e.qZA()(),e._UZ(4,"span",4),e.qZA()}2&t&&(e.Tol(i.styleClass),e.Q6J("ngClass",e.kEZ(12,Yi,i.checked(),i.disabled,i.focused))("ngStyle",i.style),e.xp6(2),e.Q6J("checked",i.checked())("disabled",i.disabled),e.uIk("aria-label",i.ariaLabel)("id",i.inputId)("name",i.name)("tabindex",i.tabindex)("aria-checked",i.checked())("aria-labelledby",i.ariaLabelledBy))},dependencies:[_.mk,_.PC],styles:['.p-inputswitch{position:relative;display:inline-block;-webkit-user-select:none;user-select:none}.p-inputswitch-slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0}.p-inputswitch-slider:before{position:absolute;content:"";top:50%}\n'],encapsulation:2,changeDetection:0}),o})(),Wi=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[_.ez]}),o})();var qi=d(3848),Gi=d(5588);let Vi=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[_.ez,h.u5,h.UX,Fi,ke.JF,he.lN,Ce.kW,Ui.q4,Li.W6,Bi.l,qi.Nh,X.g0,Ni.U$,Wi,Hi.m,me.Ps,K.ie,F.ot,H.SJ,bi,nt,Et,j.Q8.withConfig({color:"yellow"}),Gi.bj]}),o})()}}]);